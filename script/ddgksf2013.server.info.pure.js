// 2026/1/4 05:21:58 https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/ddgksf2013.server.info.pure.js
const url="https://my.ippure.com/v1/info",opts={policy:$environment.params},myRequest={url,headers:{"User-Agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1"},opts,timeout:5e3};$task.fetch(myRequest).then(o=>{try{const e=JSON.parse(o.body),n=generateHtmlMessage(e);$done({title:"    \u{1F50E} IPPure \u8282\u70B9\u8BE6\u60C5",htmlMessage:n})}catch{handleError("\u89E3\u6790\u5931\u8D25")}},o=>{handleError("\u67E5\u8BE2\u8D85\u65F6")});function handleError(o){const e=`<p style="text-align: center; font-family: -apple-system; font-size: large; font-weight: bold;">\u{1F6D1} ${o}</p>`;$done({title:"\u{1F50E} IPPure \u67E5\u8BE2\u7ED3\u679C",htmlMessage:e})}function generateHtmlMessage(o){let e="";const n=getFlagEmoji(o.countryCode),l=o.ip||"N/A",c=o.asOrganization||"N/A",f=o.asn?`AS${o.asn}`:"N/A";let r=`${n} ${o.countryCode}`;o.region&&(r+=` - ${o.region}`),o.city&&(r+=` - ${o.city}`);const p=o.isResidential?"\u4F4F\u5B85\u7F51\u7EDC \u{1F3E0}":"\u6570\u636E\u4E2D\u5FC3 \u{1F3E2}",i=o.fraudScore||0,a=getRiskLevel(i),g=[["IP",l],["ISP",c],["ASN",f],["\u4F4D\u7F6E",r],["\u7C7B\u578B",p],["\u6B3A\u8BC8\u503C",`${i} \u5206`],["\u98CE\u9669\u7B49\u7EA7",a]];let t='<div style="text-align: center; font-family: -apple-system; font-size: 15px; line-height: 1.5;">';return t+='<hr style="margin: 10px 0; border: 0; border-top: 1px solid #ddd;"/>',g.forEach(s=>{t+=`<b><font color="#888">${s[0]} : </font></b><font color="#000">${s[1]}</font><br/>`}),t+='<hr style="margin: 10px 0; border: 0; border-top: 1px solid #ddd;"/>',t+=`<font color="#6959CD"><b>\u8282\u70B9</b> \u279F ${$environment.params}</font>`,t+="</div>",t}function getRiskLevel(o){return o<=25?"<font color='#28a745'>\u4F4E\u98CE\u9669 \u2705</font>":o<=50?"<font color='#ffc107'>\u4E2D\u98CE\u9669 \u{1F7E1}</font>":o<=75?"<font color='#ff8c00'>\u9AD8\u98CE\u9669 \u26A0\uFE0F</font>":"<font color='#dc3545'>\u6781\u9AD8\u98CE\u9669 \u203C\uFE0F</font>"}function getFlagEmoji(o){if(!o)return"\u{1F30D}";const e=o.toUpperCase().split("").map(n=>127397+n.charCodeAt());return String.fromCodePoint(...e)}
