// https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/ddgksf2013.ximalaya.js
(()=>{var s=$response.body;if(s){switch(!0){case/discovery-category\/customCategories/.test($request.url):try{let e=JSON.parse(s);e.customCategoryList&&(e.customCategoryList=e.customCategoryList.filter(t=>(t.itemType=="recommend"||t.itemType=="template_category"||t.itemType=="single_category")&&t.categoryId!==1005)),e.defaultTabList&&(e.defaultTabList=e.defaultTabList.filter(t=>(t.itemType=="recommend"||t.itemType=="template_category"||t.itemType=="single_category")&&t.categoryId!==1005)),s=JSON.stringify(e)}catch{}break;case/discovery-category\/v\d\/category/.test($request.url):try{let e=JSON.parse(s);e.focusImages&&e.focusImages.data&&(e.focusImages.data=e.focusImages.data.filter(t=>t.realLink.indexOf("open")!=-1&&!t.isAd)),s=JSON.stringify(e)}catch{}break;case/focus-mobile\/focusPic/.test($request.url):try{let e=JSON.parse(s);e.header&&e.header.length<=1&&(e.header[0].item.list[0].data=e.header[0].item.list[0].data.filter(t=>t.realLink.indexOf("open")!=-1&&!t.isAd)),s=JSON.stringify(e)}catch{}break;case/discovery-feed\/v\d\/mix/.test($request.url):try{let e=JSON.parse(s);e.header?.length==2&&delete e.header[0],e.body=e.body.filter(t=>!(t.item?.adInfo||t.item?.moduleType=="mix_ad"||t.displayClass=="bigCard")),s=JSON.stringify(e)}catch{}break;case/mobile-user\/v\d\/homePage/.test($request.url):try{let e=new Set([210,213,215]),t=JSON.parse(s);if(t.data.serviceModule.entrances){let a=t.data.serviceModule.entrances.filter(r=>e.has(r.id));t.data.serviceModule.entrances=a}s=JSON.stringify(t)}catch{}break;default:$done({})}$done({body:s})}else $done({});})();
