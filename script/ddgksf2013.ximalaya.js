// Fri May 30 2025 21:19:48 GMT+0000 (Coordinated Universal Time) https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/ddgksf2013.ximalaya.js
let body=$response.body;if(body){switch(!0){case/discovery-category\/customCategories/.test($request.url):try{let e=JSON.parse(body);e.customCategoryList&&(e.customCategoryList=e.customCategoryList.filter(t=>(t.itemType=="recommend"||t.itemType=="template_category"||t.itemType=="single_category")&&t.categoryId!==1005)),e.defaultTabList&&(e.defaultTabList=e.defaultTabList.filter(t=>(t.itemType=="recommend"||t.itemType=="template_category"||t.itemType=="single_category")&&t.categoryId!==1005)),body=JSON.stringify(e)}catch{}break;case/discovery-category\/v\d\/category/.test($request.url):try{let e=JSON.parse(body);e.focusImages&&e.focusImages.data&&(e.focusImages.data=e.focusImages.data.filter(t=>t.realLink.indexOf("open")!=-1&&!t.isAd)),body=JSON.stringify(e)}catch{}break;case/focus-mobile\/focusPic/.test($request.url):try{let e=JSON.parse(body);e.header&&e.header.length<=1&&(e.header[0].item.list[0].data=e.header[0].item.list[0].data.filter(t=>t.realLink.indexOf("open")!=-1&&!t.isAd)),body=JSON.stringify(e)}catch{}break;case/discovery-feed\/v\d\/mix/.test($request.url):try{let e=JSON.parse(body);e.header?.length==2&&delete e.header[0],e.body=e.body.filter(t=>!(t.item?.adInfo||t.item?.moduleType=="mix_ad"||t.displayClass=="bigCard")),body=JSON.stringify(e)}catch{}break;case/mobile-user\/v\d\/homePage/.test($request.url):try{let e=new Set([210,213,215]),t=JSON.parse(body);if(t.data.serviceModule.entrances){let s=t.data.serviceModule.entrances.filter(a=>e.has(a.id));t.data.serviceModule.entrances=s}body=JSON.stringify(t)}catch{}break;default:$done({})}$done({body})}else $done({});
