// https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/fmz200.douyin.js
var t=Object.defineProperty;var o=(e,l)=>t(e,"name",{value:l,configurable:!0});try{let e=$response.body.replace(/"room_id":(\d{2,})/g,'"room_id":"$1"'),l=JSON.parse(e);l.data&&(l.data=filter_data(l.data)),l.aweme_list&&(l.aweme_list=filter_aweme_list(l.aweme_list)),l.aweme_detail&&(l.aweme_detail=filter_aweme_detail(l.aweme_detail)),$done({body:JSON.stringify(l)})}catch{$done({})}function filter_data(e){if(e&&e.length>0){let l=e.length;for(;l--;){let i=e[l].aweme;i.images&&filter_images(i.images),i.video&&filter_videos(i)}}return e}o(filter_data,"filter_data");function filter_aweme_list(e){if(e&&e.length>0){let l=e.length;for(;l--;){let i=e[l];i.is_ads==!0?e.splice(l,1):i.images?filter_images(i.images):i.video?filter_videos(i):e.splice(l,1)}}return e}o(filter_aweme_list,"filter_aweme_list");function filter_aweme_detail(e){return e.images&&filter_images(e.images),e.video&&filter_videos(e),e}o(filter_aweme_detail,"filter_aweme_detail");function filter_images(e){let l=e.length;for(;l--;)e[l].download_url_list=e[l].url_list;return e}o(filter_images,"filter_images");function filter_videos(e){e.status.reviewed=1,e.video_control.allow_download=!0,e.video_control.prevent_download_type=0,delete e.video.misc_download_addrs;const l=e.video.play_addr;return e.video.download_addr=l,e.video.download_suffix_logo_addr=l,e}o(filter_videos,"filter_videos");
