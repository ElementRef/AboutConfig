// https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/fmz200.douyin.js
(()=>{var r=Object.defineProperty;var o=(e,l)=>r(e,"name",{value:l,configurable:!0});try{let e=$response.body.replace(/"room_id":(\d{2,})/g,'"room_id":"$1"'),l=JSON.parse(e);l.data&&(l.data=d(l.data)),l.aweme_list&&(l.aweme_list=f(l.aweme_list)),l.aweme_detail&&(l.aweme_detail=a(l.aweme_detail)),$done({body:JSON.stringify(l)})}catch{$done({})}function d(e){if(e&&e.length>0){let l=e.length;for(;l--;){let i=e[l].aweme;i.images&&t(i.images),i.video&&n(i)}}return e}o(d,"filter_data");function f(e){if(e&&e.length>0){let l=e.length;for(;l--;){let i=e[l];i.is_ads==!0?e.splice(l,1):i.images?t(i.images):i.video?n(i):e.splice(l,1)}}return e}o(f,"filter_aweme_list");function a(e){return e.images&&t(e.images),e.video&&n(e),e}o(a,"filter_aweme_detail");function t(e){let l=e.length;for(;l--;)e[l].download_url_list=e[l].url_list;return e}o(t,"filter_images");function n(e){e.status.reviewed=1,e.video_control.allow_download=!0,e.video_control.prevent_download_type=0,delete e.video.misc_download_addrs;let l=e.video.play_addr;return e.video.download_addr=l,e.video.download_suffix_logo_addr=l,e}o(n,"filter_videos");})();
