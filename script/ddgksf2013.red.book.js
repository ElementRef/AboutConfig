// https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/ddgksf2013.red.book.js
let body=$response.body;if(body){switch(!0){case/api\/sns\/v\d\/note\/widgets/.test($request.url):try{let e=JSON.parse(body),t=["1goods_card_v2","note_next_step"];for(let s of t)e.data?.[s]&&delete e.data[s];body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/note\/redtube/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data.items)t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.media_save_config&&(t.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),t.share_info&&(t.share_info.function_entries=[{type:"video_download"},{type:"generate_image"},{type:"copy_link"},{type:"native_voice"},{type:"video_speed"},{type:"dislike"},{type:"report"},{type:"video_feedback"}]);body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/note\/videofeed/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data)t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.media_save_config&&(t.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),t.share_info&&(t.share_info.function_entries=[{type:"video_download"},{type:"generate_image"},{type:"copy_link"},{type:"native_voice"},{type:"video_speed"},{type:"dislike"},{type:"report"},{type:"video_feedback"}]);body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/note\/feed/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data)if(t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.note_list)for(let s of t.note_list)s.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0};body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/note\/imagefeed/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data)if(t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.note_list)for(let s of t.note_list)s.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0};body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/homefeed\/categories\?/.test($request.url):try{let e=JSON.parse(body);e.data.categories=e.data.categories.filter(t=>!(t.oid=="homefeed.shop"||t.oid=="homefeed.live")),body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/search\/hint/.test($request.url):try{let e=JSON.parse(body);e.data?.hint_words&&(e.data.hint_words=[{title:"\u641C\u7D22\u7B14\u8BB0",type:"firstEnterOther#itemCfRecWord#\u641C\u7D22\u7B14\u8BB0#1",search_word:"\u641C\u7D22\u7B14\u8BB0"}]),body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/search\/hot_list/.test($request.url):try{let e=JSON.parse(body);e.data={scene:"",title:"",items:[],host:"",background_color:{},word_request_id:""},body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/search\/trending/.test($request.url):try{let e=JSON.parse(body);e.data={title:"",queries:[],type:"",word_request_id:""},body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/system_service\/splash_config/.test($request.url):try{let e=JSON.parse(body);e.data.ads_groups.forEach(t=>{t.start_time="2208963661",t.end_time="2209050061",t.ads&&t.ads.forEach(s=>{s.start_time="2208963661",s.end_time="2209050061"})}),body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/homefeed\?/.test($request.url):try{let e=JSON.parse(body);e.data=e.data.filter(t=>!t.is_ads),body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d+\/search\/notes\?/.test($request.url):try{let e=JSON.parse(body);e.data.items=e.data.items.filter(t=>!t.ads),body=JSON.stringify(e)}catch{}break;case/api\/sns\/v\d\/system_service\/config\?/.test($request.url):try{let e=JSON.parse(body),t=["store","splash","loading_img","app_theme","cmt_words","highlight_tab"];for(let s of t)e.data?.[s]&&delete e.data[s];body=JSON.stringify(e)}catch{}break;default:$done({})}$done({body})}else $done({});
