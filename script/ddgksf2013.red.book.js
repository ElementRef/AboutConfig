// Sat Aug 02 2025 21:21:54 GMT+0000 (Coordinated Universal Time) https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/ddgksf2013.red.book.js
const $=new Env("\u5C0F\u7EA2\u4E66");var _0xodG="jsjiami.com.v7";const _0x5a5378=_0xaee0;function _0x48ec(){const o=function(){return[_0xodG,"yDjWspjiUaOWDmriO.dcFRUoKTnmwK.IvGF7uTSI==","q3/cTuS6WPuZW7ddOa","WQnNW5/cTdRcPCoeW5JdI3O","W7ZcNCorW7NcG3fc","BCoyqa","WOZcSaOww8kxp8kf","u8otWOTMuCknrqi8","WQD8W5hdN8o9WPNcRW","W7JcJJjrWR8iy8otWRnCzmof","WP3dGCoeE8oJWRZdRmoEAG","x8kcWOldGGyRCMtdKCoWWOiSW709rZXI","W4LTnvWIWOyMawa","W4FdTCo5kSkjWOdcTaT2nq","W7nGB1dcLuNdH8oegtBdTc84FG","W73cKCoplSoauW8lbmo7W4xcT0XdW7ddL8k7","pmogWOVdPW","DeyOW4j8W6BcVSk4bXxdTKG0WP8XE8o1","WO3dT8oIaui","W4BdMIm","WPZdJGa","W7DQCuZcUetdMSoplq","W4nDsh7cOW","WRjNW5hdS8oYWP3cRHqn","W6pcM8oe","WP7dSmooWRJcOd81h3bo","WORdLmocCW","uhhcT0ea","hCkhW4usbSk+W7NcVCk7aImj","A8oExSobWOtcRq","W6m6pMhdLCoQWQW","qc1yWPLIoLLXW6C","nslcQa","a8khW4mifq","W4ddICkjECk9WR4eWQ7cVSo/WRBdU3FdIXy8ma","ymoqvCoTWOvoyCo3BCoVBCowfqa","DCopsmonWOq","xInEWO9y","mSk3ECor","ymobw8oTWOm","WR58W50","FWZdJGKmW6NcUrW0BmkxW7yJugu","W53dMSkw","u3JcPeaaWQyZW7ddRt8","WONdUchcJmoZWRauWOFcGq","bCorW4hcPu14ltpcK8kK","WQ1sW5RdOfS","WQD6W4/dRSo5WOG","FCo4W53dVhrKWRjfW74","BSodsmobWORcNXRdGrqwCG","D8o7EauWWPpdOCk+q20u","nq/cKG52Fmon","sInyWP0","W5ZdVCoUo8kdWQ3cGHbInSocW5bO","jCkIF8ozmmogqCknoG","W7tcGdzGWQecBSowWPHmCSo2k8o+WPNcIuW","5PkG57wU56+y6k6t","WQ18W4q","WOpdJGFdQCk0WRFdGNK","WPxdTI7cJ8oWWRavW5NcJ2lcNCkqW75AWRK","WRXFbSkakxSNW5a","WRFcQSosW67cKxG","W7Gvcq","WPvMteq","WOZcSmoVsCo3WOGrb0WJ","WOj0ct3dTg/dVXFcPq","5Pkt57Et56266k+B","W4ldTCo5aCkEWPFcHX9Wpmo5W7K9yCoEWOPL","W7RdJCkEzmkGWRqdWP/cOSo1WQBdI1VdGqa","oSk5AG","xcDaWP1jm1rDW7rNnCoqxI9sWQvr","D8ocyCoJWRldGJzoW5BcTXtdLgS","imokWPBdP8kytG","bf7cOctdMSkBuSowW6mzWQtdMKu","rMtcJa","WPNdT8oKeW","yuyQW4z6W6lcRSkcpXpdTe0GWQu","xWZdJJ8wW6tcT3b9"].concat(function(){return["W4GPWR9x","xH3dMc4cW6S","WQ9lrKW","DqJcUaG","kW1dBG5nka","W7PQDvdcUetdMSosmG","ESogA8o+WOjv","m28q","W4LTnvWIWOmR","D8odsa","WP7cRCkmW5i","rqddHd88W7hcVtG5EW","oSogWPtdSSowc1apWPXNzrFcLCoiDmkAWRq","WPvHdZu","xNpcHmoosIRdGs9KdWH8W6z/W4n2fq","W47dNCkurCk7WRihWQhcLCo/WRZdKgldJrWR","eCkrW445b8oyhcC2lM7cRCo5","WOiKiLxcI8o1w8kRtui","W6rKC0BcGG","wZba","WOVcO8o1CCoSWOmIe0OQW5VdOv1QW4jXW6O","vbJdP03cLSobb8o4W7u","Amo+W5tdTh5vWQ8B","W5RdTCo4lCkj","lmocWOZdSG","CWJcPX1fBmoaW5NdObBdH8kzW6dcOwNdRXq","Fmo9WOrHWRu","W5ZdJCkjuG","lhqfdIBdHI7dLJS","BtvouNVcK3ldLWr3WRD4W6S","wqFdSa","mmkznCkWW63cQ2DPW4/cVbtdTKVdVG","W6D8CKhcGKxdRmosiY3dRYC8FHPS","WOFdMmoxDCoOWQJdMSouENng","u2tcPearWQyUW7FdPJu","W4TTjG","W7xcLsbsWQa","fCktW58ybmkYW4NcPCkldI4yWPW7esa","lsJcVmof","u8kcWOxdVa","xcDiWP5sovTDW6z7p8ogCGzvWRrzw8opBCoKtW","tmoiWP4","W7PKDvZcKu3dRmoxktBdUIS","ECkBWPVdQ8o0cwiz","eSkcW4i","W5/dPSoM","u8opWPH9wSk1rqOJeW","W7VcLb0F","nq1tyW5MoMHXWPpcVZ3cVv8du8kA","WPL+Dri","WP87hGG","fJXbxsq","mrXszXW","W6KofSkufNCu","kSkFnG","WPFdHHddVa","WQjJW5dcPWdcJCoEW5JdGW","wWddJI4mW5NcTc84BmkqW7GlxG","WONdKmocDSoSWQ/dPa","tmoYW5tdK35LWQ0PWRFdS8kcrHtdKvS","WRD6W4FdV8oZWQxcRHWsy8oYWQfJ","WORcR8oNsCo7WRK7afi","zSotWO5hWOfdW5NcGCobW5G","WReqfbXpWR/dQbr1DmkL","W64PWQHHWQTnwSoAWPhcJa7dRWfHW6K","FmomWO8","h3aAW48pyqe7W6rHlmonvdy","WPHTgJpdV3VdIr3cTw3dHW","W5hdSSkZhmkOWOuEhvyRW5q","W5nNmK0","eIldTqTvW4XQWQ7cVwe","WQeCfr0AW4a","W7/cGdfAWRqiCmoEWOLA","W4tcP8kpW5/dUMj1bcGTW55Bcq","W7JdSCoUhmkdWP3cGcHTpCo4W4KrA8oi","W47dLdddOG","WPdcTSoNwSoRWPu","bSkuW50"].concat(function(){return["W4BdVCo8o8kZWOlcGXfWnG","ESokWPhdTri8","WPtcUbO9xmkanSkxyb9KW5qDWQhcJHldQq","CWJcRX5EzSopW5NdSGRdJCkpW4ZcJM/dTq3dN8koW5PdWR0","r8oEWOT3WOTZW5VcV8opW5JdGg4YtmkU","lGftBWbMlwzWWPJcJdhcS1u","BCoFWPFdSq","WP/dIam","W6ugfSkNdxKDW7HAw1tcJwzLW43cMmkN","E8oAwCo6WObdk8o9lmoOymokxW","WQ9VW4xcOq","DWtcRXLEvSonW6i","mCkhBSofcW","WPhcP8oQt8oQWOmQlvKGW5ddMKLAW4nGW7q","Emo+W5ZdPxr4","vCovWPu","WP41dHtdTmoFW4D5nCkkWRlcLa","k3iscsZdIcNdL3Gf","WP7dTdFcTCoHWROcW5NdKG","WP9HdZ3dRg3dIqFcS3FdKmkJ","WRv2W5ddRG","W4ZcOxxdN8kGW6uXW5JdMgBcN8kT","WPpcO8o0xCo7","W4lcLvlcRSoZW7lcLJnwWRP3WORcKeS","W6SuWOvOWOa","WQxcVSonW5dcHwjeD8kYha","W4FdKcddQL0","WPK1dHa","W4BdU8oT","W69HEZG","WOS9hHtdVmoVW5f/j8kxW6tdM8kEBq","W74tf8krexSyW79x","W5r2m1atWO0Mfg0","WQL8W5FdHCoWWPpcTazola","WOGMfG","WP7dGGddTmkG","xrZdMsm","WO/cQqudxCknbCkvEXrMW6iDW7tdGq","W6lcKCookSoRrGO3cmo1W43cTG","W6eiaG","WQ18W4ldVSo1WPtcOc0DyCok","b8kdW4ip","ncJcQ8oyssqxW7HrctTerbxdICk0Aq","zSoxWOC","sh/cQfCdWPW/W7RcPtWyW5eU","WP7dGGNdUmkEWRxdHMLkWRjMWPy","W57dGCkEq8kGWOqoWQRcR8o+WRddHxpdJW","u8otWPH7sSkz","W79SW6JcSIlcP8oc","fCkpW50El8kYW4i","rY9nWPTycuvWW78","ewFcV8oeEmk5WP54W7O","paLdAXW","u8o3EciWWPRdR8kntJnrWRG0W5rz","W5hdT8k/g8kTW5r7fxGDW7ZdV20","WQ/cQbSOAq","W7SoaCkDeemyW7Diuw/cPdm","W4mYs2ZcOZ7cPuFdQI8","qq3dPgy","W6zGCvRcLvW","jSomWOZdTSo9b1a","WQdcU8okW64","WPZdKmogFCo/WQ8","W5eTWR9xWQfqBSo/WOVcJW","vmkmWPZdSbeGANy","W7/cHb0d","WQmybbG","bmoBWRRdQqCfE20","zWlcUtLqASom","DuyWW4DPW7FcUW","yc9yFa5yia","zCoZAae","W6RcNWO0W7TaWO7cRa","omocWORdOmoh","W452jfqo"]}())}())}();return _0x48ec=function(){return o},_0x48ec()}(function(o,n,d,e,t,s,a){return o=o>>8,s="hs",a="hs",function(i,r,c,x,l){const u=_0xaee0;x="tfi",s=x+s,l="up",a+=l,s=c(s),a=c(a),c=0;const h=i();for(;--e+r;)try{x=-parseInt(u(637,"@ez3"))/1+parseInt(u(683,"sC%D"))/2*(-parseInt(u(606,"[dl!"))/3)+parseInt(u(511,"hx$e"))/4*(-parseInt(u(670,"[dl!"))/5)+parseInt(u(581,"yonp"))/6*(-parseInt(u(531,"yPxk"))/7)+parseInt(u(693,"mZJ["))/8*(parseInt(u(611,"YRW6"))/9)+parseInt(u(554,"EP!G"))/10+parseInt(u(604,"1BC4"))/11}catch{x=c}finally{if(l=h[s](),o<=e)c?t?x=l:t=l:c=l;else if(c==t.replace(/[WKDdRwGrFIySnUOuTp=]/g,"")){if(x===r){h["un"+s](l);break}h[a](l)}}}(d,n,function(i,r,c,x,l,u,h){return r="split",i=arguments[0],i=i[r](""),c="reverse",i=i[c]("v"),x="join",i[x]("")})})(50688,281230,_0x48ec,200),_0x48ec&&(_0xodG=200);function _0xaee0(o,n){const d=_0x48ec();return _0xaee0=function(e,t){e=e-480;let s=d[e];if(_0xaee0.uUaDKZ===void 0){var a=function(l){const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let h="",f="";for(let p=0,S,W,g=0;W=l.charAt(g++);~W&&(S=p%4?S*64+W:W,p++%4)?h+=String.fromCharCode(255&S>>(-2*p&6)):0)W=u.indexOf(W);for(let p=0,S=h.length;p<S;p++)f+="%"+("00"+h.charCodeAt(p).toString(16)).slice(-2);return decodeURIComponent(f)};const x=function(l,u){let h=[],f=0,p,S="";l=a(l);let W;for(W=0;W<256;W++)h[W]=W;for(W=0;W<256;W++)f=(f+h[W]+u.charCodeAt(W%u.length))%256,p=h[W],h[W]=h[f],h[f]=p;W=0,f=0;for(let g=0;g<l.length;g++)W=(W+1)%256,f=(f+h[W])%256,p=h[W],h[W]=h[f],h[f]=p,S+=String.fromCharCode(l.charCodeAt(g)^h[(h[W]+h[f])%256]);return S};_0xaee0.jLmnLc=x,o=arguments,_0xaee0.uUaDKZ=!0}const i=d[0],r=e+i,c=o[r];return c?s=c:(_0xaee0.TqIXkp===void 0&&(_0xaee0.TqIXkp=!0),s=_0xaee0.jLmnLc(s,t),o[r]=s),s},_0xaee0(o,n)}$[_0x5a5378(602,"UsSB")]=_0x5a5378(619,"hx$e"),$[_0x5a5378(612,"Psb1")]=_0x5a5378(578,"1BC4");let body=$response[_0x5a5378(588,"Cf2B")];if(body){switch(!0){case/api\/sns\/v\d+\/note\/widgets/.test($request[_0x5a5378(631,"EP!G")]):try{let o=JSON[_0x5a5378(487,"e05e")](body);o[_0x5a5378(677,"mZJ[")]={},body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/note\/live_photo\/save/[_0x5a5378(607,"l#sh")]($request[_0x5a5378(650,"Cf2B")]):try{let o=JSON.parse(body);o[_0x5a5378(562,"yonp")][_0x5a5378(668,"&sID")]=JSON[_0x5a5378(497,"1BC4")]($[_0x5a5378(596,"a7v#")]($[_0x5a5378(620,"GqP3")])),body=JSON[_0x5a5378(483,"xpBE")](o)}catch{}break;case/api\/sns\/v\d+\/note\/video\/save/.test($request[_0x5a5378(522,"9NS&")]):try{let o=JSON[_0x5a5378(689,"yonp")](body),n=JSON.parse($.getdata($[_0x5a5378(669,"Bfgb")]));for(let d of n)d.note_id==o[_0x5a5378(643,"Cf2B")].note_id&&(o.data=d);body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/note\/comment\/list/.test($request.url):try{let o=JSON[_0x5a5378(561,"Psb1")](body);for(let n of o.data[_0x5a5378(680,"sC%D")])if(n[_0x5a5378(695,"d94(")])for(let d of n[_0x5a5378(518,"5ngj")])d[_0x5a5378(661,"5ngj")]?.[_0x5a5378(599,"[dl!")]&&(d[_0x5a5378(524,"[dl!")]=d[_0x5a5378(654,"TaWo")][_0x5a5378(666,"1BC4")],d[_0x5a5378(534,"svp3")]=d.meme_package[_0x5a5378(594,"ltzp")]);body=JSON[_0x5a5378(667,"OAly")](o)}catch{}break;case/api\/sns\/v\d+\/note\/redtube/[_0x5a5378(674,"xq^F")]($request[_0x5a5378(500,"ltzp")]):try{let o=JSON.parse(body);for(let n of o[_0x5a5378(626,"ltzp")][_0x5a5378(590,"&sID")])n[_0x5a5378(706,"r2]Q")]&&(n[_0x5a5378(563,"hx$e")]=0),n[_0x5a5378(558,"[dl!")]&&(n[_0x5a5378(515,"2Wj^")]=!1),n.media_save_config&&(n.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),n[_0x5a5378(555,"^dhY")]&&(n[_0x5a5378(600,"GqP3")][_0x5a5378(575,"v!(6")]=[{type:_0x5a5378(621,"&sID")},{type:_0x5a5378(536,"r2]Q")},{type:_0x5a5378(691,"e05e")},{type:_0x5a5378(488,"v!(6")},{type:_0x5a5378(509,"NYtv")},{type:_0x5a5378(591,"9NS&")},{type:_0x5a5378(678,"a7v#")},{type:_0x5a5378(595,"jyVK")}]);body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/note\/videofeed/[_0x5a5378(585,"lR4[")]($request[_0x5a5378(583,"Psb1")]):try{let o=JSON[_0x5a5378(493,"v!(6")](body),n=[];for(let d of o[_0x5a5378(486,"a7v#")])if(d[_0x5a5378(530,"1BC4")]&&(d.related_goods_num=0),d[_0x5a5378(624,"9NS&")]&&(d[_0x5a5378(618,"d94(")]=!1),d.media_save_config&&(d[_0x5a5378(586,"&sID")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),d.share_info&&(d[_0x5a5378(584,"EP!G")].function_entries=[{type:_0x5a5378(646,"Cf2B")},{type:_0x5a5378(703,"*BzV")},{type:_0x5a5378(481,"*BzV")},{type:_0x5a5378(635,"gTCg")},{type:_0x5a5378(601,"^[s9")},{type:_0x5a5378(490,"JqHV")},{type:_0x5a5378(675,"*BzV")},{type:"video_feedback"}]),d[_0x5a5378(598,"xpBE")]?.media?.[_0x5a5378(617,"6A2I")]?.[_0x5a5378(548,"YRW6")]){let e={};e[_0x5a5378(663,"EP!G")]=2,e[_0x5a5378(676,"yonp")]=d.id,e[_0x5a5378(698,"2Wj^")]=d.video_info_v2[_0x5a5378(642,"eH06")].stream[_0x5a5378(587,"^dhY")][0][_0x5a5378(702,"Psb1")],n[_0x5a5378(681,"lR4[")](e)}$[_0x5a5378(542,"&sID")](JSON[_0x5a5378(566,"F06&")](n),$[_0x5a5378(501,"jyVK")]),body=JSON[_0x5a5378(514,"MZ(V")](o)}catch{}break;case/api\/sns\/v\d+\/note\/tabfeed/.test($request.url):try{let o=JSON[_0x5a5378(497,"1BC4")](body),n=[];for(let d of o.data[_0x5a5378(690,"l#sh")])if(d[_0x5a5378(629,"[dl!")]&&(d.related_goods_num=0),d[_0x5a5378(624,"9NS&")]&&(d[_0x5a5378(527,"Psb1")]=!1),d[_0x5a5378(552,"svp3")]&&(d[_0x5a5378(586,"&sID")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),d.share_info&&(d[_0x5a5378(503,"e05e")][_0x5a5378(553,"qB81")]=[{type:_0x5a5378(569,"yPxk")},{type:_0x5a5378(703,"*BzV")},{type:"copy_link"},{type:_0x5a5378(580,"*BzV")},{type:"video_speed"},{type:"dislike"},{type:"report"},{type:_0x5a5378(662,"qB81")}]),d[_0x5a5378(672,"9NS&")]?.media?.[_0x5a5378(539,"jyVK")]?.[_0x5a5378(540,"^[s9")]){let e={};e[_0x5a5378(614,"[dl!")]=2,e[_0x5a5378(546,"l#sh")]=d.id,e.download_url=d[_0x5a5378(513,"Psb1")][_0x5a5378(496,"NYtv")].stream[_0x5a5378(645,"JqHV")][0][_0x5a5378(679,"UsSB")],n.push(e)}$[_0x5a5378(685,"r2]Q")](JSON[_0x5a5378(699,"a7v#")](n),$[_0x5a5378(597,"Xwe!")]),body=JSON[_0x5a5378(483,"xpBE")](o)}catch{}break;case/api\/sns\/v\d+\/note\/feed/[_0x5a5378(705,"yonp")]($request.url):try{let o=JSON[_0x5a5378(556,"*BzV")](body);for(let n of o[_0x5a5378(551,"gTCg")])if(n[_0x5a5378(704,"TaWo")]&&(n.related_goods_num=0),n.has_related_goods&&(n[_0x5a5378(700,"sC%D")]=!1),n[_0x5a5378(491,"1BC4")])for(let d of n.note_list)d[_0x5a5378(658,"OZL(")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0};body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/note\/imagefeed/[_0x5a5378(585,"lR4[")]($request[_0x5a5378(502,"qB81")]):try{let o=JSON.parse(body),n=[];for(let d of o.data)if(d.related_goods_num&&(d[_0x5a5378(550,"yonp")]=0),d[_0x5a5378(494,"qB81")]&&(d.has_related_goods=!1),d[_0x5a5378(543,"*BzV")]){for(let e of d[_0x5a5378(701,"l#sh")])if(e[_0x5a5378(552,"svp3")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0},e[_0x5a5378(605,"gTCg")]){for(let t of e[_0x5a5378(571,"a7v#")])if(t[_0x5a5378(616,"Psb1")]){let s={};s[_0x5a5378(560,"Xwe!")]=t.live_photo[_0x5a5378(651,"5ngj")][_0x5a5378(627,"hx$e")],s[_0x5a5378(665,"v!(6")]=t.live_photo_file_id,s[_0x5a5378(615,"v!(6")]=t.live_photo.media[_0x5a5378(489,"NYtv")][_0x5a5378(523,"Cf2B")][0].master_url,n[_0x5a5378(652,"jyVK")](s)}}}$.setdata(JSON.stringify(n),$[_0x5a5378(528,"qB81")]),body=JSON[_0x5a5378(647,"9NS&")](o)}catch{}break;case/api\/sns\/v\d+\/homefeed\/categories\?/[_0x5a5378(541,"hx$e")]($request[_0x5a5378(557,"1BC4")]):try{let o=JSON.parse(body);o[_0x5a5378(535,"G!n[")][_0x5a5378(610,"2Wj^")]=o[_0x5a5378(687,"Bfgb")].categories.filter(n=>!(n[_0x5a5378(659,"6A2I")]==_0x5a5378(625,"ALVD")||n[_0x5a5378(480,"5ngj")]==_0x5a5378(519,"@ez3")||n[_0x5a5378(547,"NYtv")]==_0x5a5378(660,"e05e"))),body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/search\/hint/[_0x5a5378(538,"UsSB")]($request[_0x5a5378(603,"6A2I")]):try{let o=JSON.parse(body);o[_0x5a5378(613,"eH06")]?.[_0x5a5378(549,"jyVK")]&&(o[_0x5a5378(512,"1BC4")][_0x5a5378(692,"ltzp")]=[{title:_0x5a5378(526,"lR4["),type:"firstEnterOther#itemCfRecWord#\u641C\u7D22\u7B14\u8BB0#1",search_word:_0x5a5378(516,"UsSB")}]),body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/search\/hot_list/.test($request.url):try{let o=JSON[_0x5a5378(556,"*BzV")](body);o[_0x5a5378(551,"gTCg")]={scene:"",title:"",items:[],host:"",background_color:{},word_request_id:""},body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/search\/trending/.test($request.url):try{let o=JSON.parse(body);o[_0x5a5378(593,"5ngj")]={title:"",queries:[],type:"",word_request_id:""},body=JSON[_0x5a5378(525,"gTCg")](o)}catch{}break;case/api\/sns\/v\d+\/system_service\/splash_config/[_0x5a5378(657,"v!(6")]($request.url):try{let o=JSON.parse(body);o.data[_0x5a5378(641,"mZJ[")][_0x5a5378(697,"xpBE")](n=>{const d=_0x5a5378,e={iFkTQ:function(t,s){return t+s},gQcuU:function(t,s){return t!==s},XIgJQ:d(589,"&sID"),wQhRl:d(505,"sC%D"),WXIKD:d(608,"e05e")};n.start_time=d(673,"gTCg"),n.end_time=e[d(640,"UsSB")],n[d(582,"v!(6")]&&n.ads[d(684,"hx$e")](t=>{const s=d;e[s(628,"MZ(V")](e.XIgJQ,s(671,"d94("))?(t[s(572,"e05e")]=e[s(506,"[p!w")],t[s(688,"lR4[")]=e[s(482,"*BzV")]):_0x4e5be7[s(592,"yPxk")](e[s(564,"GqP3")](s(649,"xpBE"),_0x334ce3))})}),body=JSON[_0x5a5378(696,"EP!G")](o)}catch{}break;case/api\/sns\/v\d+\/homefeed\?/[_0x5a5378(576,"OZL(")]($request.url):try{let o=JSON[_0x5a5378(638,"[dl!")](body);o[_0x5a5378(622,"6A2I")]=o.data[_0x5a5378(630,"Xwe!")](n=>!n[_0x5a5378(544,"ALVD")]),body=JSON[_0x5a5378(648,"l#sh")](o)}catch{}break;case/api\/sns\/v\d+\/search\/notes\?/[_0x5a5378(636,"xpBE")]($request[_0x5a5378(522,"9NS&")]):try{let o=JSON[_0x5a5378(707,"G!n[")](body);o.data[_0x5a5378(574,"2Wj^")]=o[_0x5a5378(577,"sC%D")].items[_0x5a5378(507,"xpBE")](n=>!n.ads),body=JSON.stringify(o)}catch{}break;case/api\/sns\/v\d+\/system_service\/config\?/[_0x5a5378(565,"qB81")]($request[_0x5a5378(694,"NYtv")]):try{let o=JSON.parse(body);const n=[_0x5a5378(499,"ALVD"),_0x5a5378(521,"mZJ["),_0x5a5378(656,"xpBE"),_0x5a5378(559,"xq^F"),_0x5a5378(634,"@ez3"),"highlight_tab"];for(const d of n)o[_0x5a5378(682,"^[s9")]?.[d]&&delete o[_0x5a5378(498,"MZ(V")][d];body=JSON[_0x5a5378(483,"xpBE")](o)}catch{}break;default:$done({});break}$done({body})}else $done({});function Env(o,n){typeof process<"u"&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class d{constructor(t){this.env=t}send(t,s="GET"){t=typeof t=="string"?{url:t}:t;let a=this.get;return s==="POST"&&(a=this.post),new Promise((i,r)=>{a.call(this,t,(c,x,l)=>{c?r(c):i(x)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(e,t){this.name=e,this.http=new d(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator=`
`,this.startTime=new Date().getTime(),Object.assign(this,t)}isNode(){return typeof module<"u"&&!!module.exports}isQuanX(){return typeof $task<"u"}isSurge(){return typeof $httpClient<"u"&&typeof $loon>"u"}isLoon(){return typeof $loon<"u"}toObj(e,t=null){try{return JSON.parse(e)}catch{return t}}toStr(e,t=null){try{return JSON.stringify(e)}catch{return t}}getjson(e,t){let s=t;if(this.getdata(e))try{s=JSON.parse(this.getdata(e))}catch{}return s}setjson(e,t){try{return this.setdata(JSON.stringify(e),t)}catch{return!1}}getScript(e){return new Promise(t=>{this.get({url:e},(s,a,i)=>t(i))})}runScript(e,t){return new Promise(s=>{let a=this.getdata("@chavy_boxjs_userCfgs.httpapi");a=a&&a.replace(/\n/g,"").trim();let i=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");i=i?1*i:20,i=t&&t.timeout?t.timeout:i;const[r,c]=a.split("@"),x={url:`http://${c}/v1/scripting/evaluate`,body:{script_text:e,mock_type:"cron",timeout:i},headers:{"X-Key":r,Accept:"*/*"}};this.post(x,(l,u,h)=>s(h))}).catch(s=>this.logErr(s))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(e),a=!s&&this.fs.existsSync(t);if(!s&&!a)return{};{const i=s?e:t;try{return JSON.parse(this.fs.readFileSync(i))}catch{return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(e),a=!s&&this.fs.existsSync(t),i=JSON.stringify(this.data);s?this.fs.writeFileSync(e,i):a?this.fs.writeFileSync(t,i):this.fs.writeFileSync(e,i)}}lodash_get(e,t,s){const a=t.replace(/\[(\d+)\]/g,".$1").split(".");let i=e;for(const r of a)if(i=Object(i)[r],i===void 0)return s;return i}lodash_set(e,t,s){return Object(e)!==e||(Array.isArray(t)||(t=t.toString().match(/[^.[\]]+/g)||[]),t.slice(0,-1).reduce((a,i,r)=>Object(a[i])===a[i]?a[i]:a[i]=Math.abs(t[r+1])>>0==+t[r+1]?[]:{},e)[t[t.length-1]]=s),e}getdata(e){let t=this.getval(e);if(/^@/.test(e)){const[,s,a]=/^@(.*?)\.(.*?)$/.exec(e),i=s?this.getval(s):"";if(i)try{const r=JSON.parse(i);t=r?this.lodash_get(r,a,""):t}catch{t=""}}return t}setdata(e,t){let s=!1;if(/^@/.test(t)){const[,a,i]=/^@(.*?)\.(.*?)$/.exec(t),r=this.getval(a),c=a?r==="null"?null:r||"{}":"{}";try{const x=JSON.parse(c);this.lodash_set(x,i,e),s=this.setval(JSON.stringify(x),a)}catch{const l={};this.lodash_set(l,i,e),s=this.setval(JSON.stringify(l),a)}}else s=this.setval(e,t);return s}getval(e){return this.isSurge()||this.isLoon()?$persistentStore.read(e):this.isQuanX()?$prefs.valueForKey(e):this.isNode()?(this.data=this.loaddata(),this.data[e]):this.data&&this.data[e]||null}setval(e,t){return this.isSurge()||this.isLoon()?$persistentStore.write(e,t):this.isQuanX()?$prefs.setValueForKey(e,t):this.isNode()?(this.data=this.loaddata(),this.data[t]=e,this.writedata(),!0):this.data&&this.data[t]||null}initGotEnv(e){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,e&&(e.headers=e.headers?e.headers:{},e.headers.Cookie===void 0&&e.cookieJar===void 0&&(e.cookieJar=this.ckjar))}get(e,t=()=>{}){e.headers&&(delete e.headers["Content-Type"],delete e.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(e,(s,a,i)=>{!s&&a&&(a.body=i,a.statusCode=a.status),t(s,a,i)})):this.isQuanX()?(this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then(s=>{const{statusCode:a,statusCode:i,headers:r,body:c}=s;t(null,{status:a,statusCode:i,headers:r,body:c},c)},s=>t(s))):this.isNode()&&(this.initGotEnv(e),this.got(e).on("redirect",(s,a)=>{try{if(s.headers["set-cookie"]){const i=s.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();i&&this.ckjar.setCookieSync(i,null),a.cookieJar=this.ckjar}}catch(i){this.logErr(i)}}).then(s=>{const{statusCode:a,statusCode:i,headers:r,body:c}=s;t(null,{status:a,statusCode:i,headers:r,body:c},c)},s=>{const{message:a,response:i}=s;t(a,i,i&&i.body)}))}post(e,t=()=>{}){if(e.body&&e.headers&&!e.headers["Content-Type"]&&(e.headers["Content-Type"]="application/x-www-form-urlencoded"),e.headers&&delete e.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(e,(s,a,i)=>{!s&&a&&(a.body=i,a.statusCode=a.status),t(s,a,i)});else if(this.isQuanX())e.method="POST",this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then(s=>{const{statusCode:a,statusCode:i,headers:r,body:c}=s;t(null,{status:a,statusCode:i,headers:r,body:c},c)},s=>t(s));else if(this.isNode()){this.initGotEnv(e);const{url:s,...a}=e;this.got.post(s,a).then(i=>{const{statusCode:r,statusCode:c,headers:x,body:l}=i;t(null,{status:r,statusCode:c,headers:x,body:l},l)},i=>{const{message:r,response:c}=i;t(r,c,c&&c.body)})}}time(e,t=null){const s=t?new Date(t):new Date;let a={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let i in a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e}msg(e=o,t="",s="",a){const i=r=>{if(!r)return r;if(typeof r=="string")return this.isLoon()?r:this.isQuanX()?{"open-url":r}:this.isSurge()?{url:r}:void 0;if(typeof r=="object"){if(this.isLoon()){let c=r.openUrl||r.url||r["open-url"],x=r.mediaUrl||r["media-url"];return{openUrl:c,mediaUrl:x}}if(this.isQuanX()){let c=r["open-url"]||r.url||r.openUrl,x=r["media-url"]||r.mediaUrl;return{"open-url":c,"media-url":x}}if(this.isSurge())return{url:r.url||r.openUrl||r["open-url"]}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,t,s,i(a)):this.isQuanX()&&$notify(e,t,s,i(a))),!this.isMuteLog){let r=[""];r.push(e),t&&r.push(t),s&&r.push(s),this.logs=this.logs.concat(r)}}log(...e){e.length>0&&(this.logs=[...this.logs,...e])}logErr(e,t){!this.isSurge()&&!this.isQuanX()&&!this.isLoon()?this.log("",`\u2757\uFE0F${this.name}, \u9519\u8BEF!`,e.stack):this.log("",`\u2757\uFE0F${this.name}, \u9519\u8BEF!`,e)}wait(e){return new Promise(t=>setTimeout(t,e))}done(e={}){const t=new Date().getTime(),s=(t-this.startTime)/1e3;(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(e)}}(o,n)}
