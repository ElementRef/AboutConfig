// 2026/2/17 05:33:27 https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/ddgksf2013.red.book.js
const $=new Env("\u5C0F\u7EA2\u4E66");var _0xodM="jsjiami.com.v7";function _0x134e(t,a){const x=_0x348a();return _0x134e=function(e,o){e=e-427;let s=x[e];if(_0x134e.sKnpOr===void 0){var d=function(l){const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let n="",k="";for(let S=0,m,i,p=0;i=l.charAt(p++);~i&&(m=S%4?m*64+i:i,S++%4)?n+=String.fromCharCode(255&m>>(-2*S&6)):0)i=h.indexOf(i);for(let S=0,m=n.length;S<m;S++)k+="%"+("00"+n.charCodeAt(S).toString(16)).slice(-2);return decodeURIComponent(k)};const u=function(l,h){let n=[],k=0,S,m="";l=d(l);let i;for(i=0;i<256;i++)n[i]=i;for(i=0;i<256;i++)k=(k+n[i]+h.charCodeAt(i%h.length))%256,S=n[i],n[i]=n[k],n[k]=S;i=0,k=0;for(let p=0;p<l.length;p++)i=(i+1)%256,k=(k+n[i])%256,S=n[i],n[i]=n[k],n[k]=S,m+=String.fromCharCode(l.charCodeAt(p)^n[(n[i]+n[k])%256]);return m};_0x134e.tTASUh=u,t=arguments,_0x134e.sKnpOr=!0}const r=x[0],c=e+r,W=t[c];return W?s=W:(_0x134e.OGiMbo===void 0&&(_0x134e.OGiMbo=!0),s=_0x134e.tTASUh(s,o),t[c]=s),s},_0x134e(t,a)}const _0x19ed6c=_0x134e;(function(t,a,x,e,o,s,d){return t=t>>6,s="hs",d="hs",(function(r,c,W,u,l){const h=_0x134e;u="tfi",s=u+s,l="up",d+=l,s=W(s),d=W(d),W=0;const n=r();for(;--e+c;)try{u=-parseInt(h(644,"#LHC"))/1*(parseInt(h(499,"#LHC"))/2)+-parseInt(h(441,"SAj("))/3+parseInt(h(597,"MdyZ"))/4+-parseInt(h(519,"QP3T"))/5*(parseInt(h(465,"&m^h"))/6)+parseInt(h(576,"e[Ip"))/7+parseInt(h(617,"8OPc"))/8*(-parseInt(h(641,"C99j"))/9)+parseInt(h(545,"m53F"))/10*(parseInt(h(616,"e[Ip"))/11)}catch{u=W}finally{if(l=n[s](),t<=e)W?o?u=l:o=l:W=l;else if(W==o.replace(/[LRfkqeKWgUrPHJMxVw=]/g,"")){if(u===c){n["un"+s](l);break}n[d](l)}}})(x,a,function(r,c,W,u,l,h,n){return c="split",r=arguments[0],r=r[c](""),W="reverse",r=r[W]("v"),u="join",r[u]("")})})(12736,684486,_0x348a,201),_0x348a&&(_0xodM=201);function _0x348a(){const t=(function(){return[_0xodM,"HrLJjesfPjMWiJkLaqmix.JcoUmr.vxJ7KWwMRVg==","dZumW7KqW7eo","W7eBm8kt","W4FdMSoAWQxcQWq+W64V","wGhdKa","bxjUyqe+WR7dGhJdRSkG","cI1oW6qWWPtdQ3KaCJeD","xxuvWQbKW5a","W5ZdLmoSWPdcNG","WR7cM8kcmX3dV1NcGHJcSgZcO8kdWQpdRq","W7Cvi8kl","WOVdISkpnfSbtNyrW5xcP37dKmk2kSoJxSot","W7aPrmokD2RdMSoGWRBdOSoklYRcOa","wcO7","BtFdO8kEW5/dSNZcISkyeuldN8kYtrzliW","wtOoWQFdGSkawaKZW5e","WOhcN8kvbrFdOM3cOqpcUa","l0FdTCk6","uxZcLSk8WORdUSkvW4xdJW","DdFdTmkd","t3KkWQa","ACoOW6W","xsG9pLucWPldK1JcHmoj","umoXW7VcIW4uxmk/xJe","ySkPyqW","WR5hW7G","tfdcP8odvXe","WONdHCoNuSkV","aZRcJxucA8oqBfjgtxdcIq","wIOOpg8nWPm","hSkahJqUw8kljrK","W7P+W7ZcGq","k2WUW5NdPmok","W4ZdKmo8u8kBECoC","W6L+WO3dM8o9d8o2tq","WRtdV8k3fmoVWRSqW6ddPmoRoMaUzLr8Ea","WPZdH8orAW","WQmhWQlcUa","WRVcUmocgG","W6OoEhJcIxm7","sgWvWRvYW4O","CYBdTCkEW5ddIMBcJCkx","DCo3W6fLkSoEubeQ","xCovsHGRs8kNeW7dHxS6vflcT8kvWQS","WQZcRCoeeSoDEJdcRCoO","WOZdISkjiKW","WRKHW5RcSmk6vCkIzSoOW7LsASkg","W6a1tSomBfZdK8oRWOZdTCoFjZ3cQmk6","FSk+B8ohW4fVW7FdOHm","W6G3FdJdPa","eMNcImk9","xmoyrWS6CCkQiG/dHq","WORdG8obAmkdyCo0WQNdHtLFW4VdKSkCyqddQSo9dfVdVWe","mMFcS8ooWOZcMZ3cG8k/dM3dSSkS","s291W4FdP8k7","bMNcJSkVCW","WQDHxhJcUbhcR1JcSKi","W6iHvmoo","W7avi8kpzSosWOBcJhlcTG","W6HXWP3dPq","W5VdKmokWQlcMWC8W4iUW67dHhCyW73cGHZcLCkbWR1yWOyN","W74oEhJcIxm7","WQSyCq","zSoNrWpcRtmPWRq6wvGshSkC","xmoevbaXsCkQkHa","zCkJC8oAW7b/W7hdTG4M","WR9hW7hdO1/dGCoHW6VdPmkd","uG/dG8oe","vNPZW4VdSmkZWQpdVXjScIu","yCkTyqLWWRjN","W6ZdRx0","W79UWOqGjdBdP8o5aCkCWQ14a8oxWQDOlq","WO3cMSkv","hCouWOxcKmoVmN8HcSod","oMyUW4/dICosWOddU8ow"].concat((function(){return["W7H1WPRdSa","rmoMW63cPG","W6BdQSkbsSkfkrdcUCosWPKxWOW","rZe9k0q7WOpdN1hdMW","C8kZWPW","B8oYW6fWkSoEta0GEq","yMhdKhG","zXj3WPa","WOJdJSkijq","WR8SWR3dJtBdGHyQDaddKW","th50W5y","WQZcRCoxd8ogBG","fmotWOlcLmoYnu86j8oCrWykomkj","uLRcPa","FHNdTW","d2LkW77cIa","WO3dR2HKaCoWW6VdHSkHFSkWebr6W5VdK8ky","fmk0A0OhW47dKSoafa","kLBdSCkeAmkCmMrK","otBcJL8bBCoCve52tx7cOmoKfG","WR/dS8kWfmoQWReoW6xdOW","WQjgW4VdRf/dMW","q8oWW6tcTr0dv8kvss1FhmkAW63dGfxcMq","vwNcKmkWWPBdSmkDW5hdNCkcWPvFWRJcJcjdWRJcVa","xJ4jWQ7dJ8kemNDRWQroW78","yCkVC8ojW5TG","dg1EW7VdSCkHWR8","WONdO2bGgSokW6BdVq","r2BcHCk3WOJdUa","bxZcJSk1EeJcLSkopW","DSkVWRRdVCoAWQFcNW","exDYeWjvW6mNWRWFW5xcTfm","WRJdV8kWkG","f8oIWReVWOq","nGFdM8oArSkqWOfhW7G","W6OVqColCvVdM8oAWRRdQ8op","W43cKmkso8oypmogWR7dNG59W7O","W6tcTZpdR117W7PU","DsddQW","b8o5WQ4KWR4Brs7cUa","WQ1BAe/cGvaxWQ4","DJVdO8ksW5hdSNZcM8klexK","De7cKmoJuSkiWPzDW63dLCoMzSknWOZdTbC","W7zQWPqO","WQRcQ8oA","bJKBW7Wy","y8oWW6ZcLGyjwmkCrYzvf8kIW5FdLW","WQpcNCk/ar4","W7G2asxdNLFdVq3dRXlcKMS","WORcT8khhdK","b2fiW7RcPmoga1bXWO8","Bmo7W7jXkG","vCo0W7ZcTq","W706aJtcUWC","BKtcOSoLrCkeWRa","WQZdV8k2omo4","oCo6ECo9W4zFW5pdQa","v3VcGCkN","WRHbW6BdPfxdJ8oMW6RcPW","qSkPrmoEW4m","DGbMWOpcJKG+","WPqhEW7dTmkJW7yVCW","zJFdOSktWOtcJq","mh07W5VdPq","pLtdRq","yH/dVSkFWRy","W6xcUcpdKq","zCo8tW","qIW4pf87WPpdMuVdKmkfiCoPrq","DmkOWRy3","CJFdQ8kwW4RdIgVcTmkjg3ldMmkUFb5xkq","Ba7dR8kwWQqJxa","W4hdMSoAWP/cMaeKW6LHWR0","v8oGW6BcTX0pxmkKCsDEdmkBW5VdI1m","tuhcSCo5xXG","uMNcLSkMWOe"].concat((function(){return["wfZcR8oOwWC","WO7dU8kGcCoYWRexW5FdUCoQo1acBei","W6rXWPRdM8o7a8o3sCoAW7jxwmkmehtdU8kK","zSoNrWpcRtmRWR4Ou1yChmkt","WRTuW6BdVL4","WRNdO8oFyCkR","WR0KW57cTSk5bmo4A8oDW5nI","fhz/ebK","WRpdT8kG","v3RcIa","C1lcKmoJ","WRGFC8o/W5hdStpdHmkpf0ddNKVcP8o1","WOJdH8oxECkj","bZZcJq","W7y1u8oh","W7ueAW","o0FdS8kOEq","hZBcMwK","WOxcK8khfHFdO23cUbJcP30","gtKpW7OlW64","vh5PW4xdSSk+","DGfV","bJBcH3GXCSowz014xNq","wcWQpg8uWP/dMuJdKq","W4OZAGNdRSkEhcu4W5RcL8oShspcVq","aM3cJ8kO","AdpdTmkOW4ZdIgpcISkAexNdO8k6tb9gnW","ew3cKSk5ze7cI8kngvZcRdGRWPa","b2fiW7RcPmoga1bXWO8ZWPW","WQXqW6ddQvRdNmoU","daddT8kLdemLWPqBDmoGAbu","W7G2ccNdOhJdRW/dSHBcQM3cSCoWqHZdLq","wsa4mfe","WRydC8oOW7RdRZpdMmk0fW","AmkIWOddPLhdPh1BnNbmn8ocWO0P","WRGfB8ozW4tdUZq","AXXUWPtcT0q/jmotW4ZdKCoScW","axrVBqnxW47dUhRdKmkii8oL","zrPVWPtcJKG+","qCoFuHWaqSkQpX0","W6XylCkLWPxcRwZcMSoMvq","WR8VWRJdHZFdUJWFqXtdIW","WO/dQ3z2ea","WQldSSowBCkSW6RcKW5ti0bBC8kFW5NcLfe","W6P5WOxdSmoSfa","gSojWOhcKSoGouuWqSkp","W7XLWPRdRa","WOZdVNzSg8oYW6BdV8k/","a39IfW","WPhdJSkFoeGZxgumW6/cIhtdNmkhpmoRtq","z3pdH3LX","AmkMWP7dRKZdQ0TEia","zIFdQCkuW4RdHgdcHCkXb2RdLCkPqbG","CaDIWOpcPx4UkCkqW5O","W63cTJa","gZlcMg4l","rqVdLSoxWQZdMvRcI2VcGXrPW6BcUG","ySkHzGf4WQ1J","W78eWQ3cVq/cNmk7W6/cKmoWW6OxWRu","xcqVbKibWPVdL0JdM8kneCoVtSkwW5dcPa","WRLqW7xdVLtdHG","B8oUW7jRiCoMtau/","kN0SW5/dUmozWOddS8oe","CZFdS8ktW5/dMw4","W6CrjmkE","WONdO2bGgSokW7ZdQCkJDmk7","WPShCq","WP/cISkugbZdT1VcSGG","EWRdQCkbWQa","q8ozubWaxSkRiX3dHq","oupdPCkeDCkq","W4xdMSoj","xM5PW4hdSSk/WPpdPYjGbZrlpSoNWRy"]})())})())})();return _0x348a=function(){return t},_0x348a()}$[_0x19ed6c(482,"*m[o")]=_0x19ed6c(448,"H3lv"),$.RedBookVideoKey=_0x19ed6c(440,"#LHC");let body=$response[_0x19ed6c(613,"HV*f")];if(body){switch(!0){case/api\/sns\/v\d+\/note\/widgets/[_0x19ed6c(630,"SAj(")]($request[_0x19ed6c(560,"UbsI")]):try{let t=JSON[_0x19ed6c(555,"E1LV")](body);t[_0x19ed6c(649,"&m^h")]={},body=JSON[_0x19ed6c(492,"a)]g")](t)}catch{}break;case/api\/sns\/v\d+\/note\/live_photo\/save/[_0x19ed6c(642,"&Y^u")]($request[_0x19ed6c(548,"2JB6")]):try{let t=JSON.parse(body);t[_0x19ed6c(587,"mjsQ")][_0x19ed6c(478,"CH)d")]=JSON[_0x19ed6c(594,"*m[o")]($[_0x19ed6c(534,"REr2")]($.RedBookPhotoKey)),body=JSON[_0x19ed6c(606,"Dk@$")](t)}catch{}break;case/api\/sns\/v\d+\/note\/video\/save/[_0x19ed6c(564,"a)]g")]($request[_0x19ed6c(632,"#e@&")]):try{let t=JSON[_0x19ed6c(538,"2JB6")](body),a=JSON[_0x19ed6c(518,"(*gv")]($[_0x19ed6c(568,"MdyZ")]($[_0x19ed6c(509,"EXC^")]));for(let x of a)x.note_id==t[_0x19ed6c(506,"TG0M")].note_id&&(t.data=x);body=JSON[_0x19ed6c(586,"eJ2l")](t)}catch{}break;case/api\/sns\/v\d+\/note\/comment\/list/[_0x19ed6c(642,"&Y^u")]($request[_0x19ed6c(530,"![kg")]):try{let t=JSON[_0x19ed6c(607,"REr2")](body);for(let a of t[_0x19ed6c(635,"pHXl")].comments)if(a.pictures){a[_0x19ed6c(464,"EXC^")][_0x19ed6c(523,"UbsI")]=a[_0x19ed6c(469,"#MN0")][_0x19ed6c(637,"mUNT")],delete a[_0x19ed6c(520,"2JB6")][_0x19ed6c(609,"E1LV")];for(let x of a.pictures)x.meme_package?.image_url&&(x[_0x19ed6c(461,"$Vpd")]=x[_0x19ed6c(561,"*m[o")].image_url,x[_0x19ed6c(636,"MdyZ")]=x[_0x19ed6c(511,"jyv8")][_0x19ed6c(430,"#e@&")])}body=JSON[_0x19ed6c(600,"#e@&")](t)}catch{}break;case/api\/sns\/v\d+\/note\/redtube/[_0x19ed6c(603,"HV*f")]($request.url):try{let t=JSON[_0x19ed6c(437,"WIYR")](body);for(let a of t[_0x19ed6c(438,"a)]g")][_0x19ed6c(526,"PGqV")])a.related_goods_num&&(a.related_goods_num=0),a.has_related_goods&&(a[_0x19ed6c(598,"e[Ip")]=!1),a.media_save_config&&(a.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),a.share_info&&(a[_0x19ed6c(439,"C99j")][_0x19ed6c(611,"fD9*")]=[{type:_0x19ed6c(451,"![kg")},{type:_0x19ed6c(566,"a)]g")},{type:_0x19ed6c(462,"PGqV")},{type:"native_voice"},{type:_0x19ed6c(504,"SAj(")},{type:_0x19ed6c(612,"VT6s")},{type:_0x19ed6c(643,"PGqV")},{type:_0x19ed6c(542,"![kg")}]);body=JSON[_0x19ed6c(601,"PGqV")](t)}catch{}break;case/api\/sns\/v\d+\/note\/(tab|video)feed/.test($request.url):try{let t=JSON[_0x19ed6c(589,"#MN0")](body),a=[];try{a=JSON.parse($[_0x19ed6c(449,"Veb$")]($[_0x19ed6c(540,"(*gv")])||"[]")}catch{a=[]}let x=t.data[_0x19ed6c(526,"PGqV")]||t[_0x19ed6c(445,"UlNo")];for(let e of x)if(e[_0x19ed6c(533,"SAj(")]&&(e.related_goods_num=0),e.has_related_goods&&(e[_0x19ed6c(541,"m53F")]=!1),e.media_save_config&&(e[_0x19ed6c(570,"jyv8")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),e[_0x19ed6c(468,"#e@&")]&&(e.share_info[_0x19ed6c(536,"EXC^")]=[{type:_0x19ed6c(531,"e[Ip")},{type:"generate_image"},{type:_0x19ed6c(502,"ZDuy")},{type:_0x19ed6c(456,"fD9*")},{type:_0x19ed6c(604,"eJ2l")},{type:_0x19ed6c(596,"pHXl")},{type:_0x19ed6c(558,"VT6s")},{type:_0x19ed6c(623,"UlNo")}]),Array[_0x19ed6c(517,"qa0@")](e[_0x19ed6c(475,"$Vpd")])&&e[_0x19ed6c(591,"SAj(")].forEach(o=>{const s=_0x19ed6c;o[s(491,"2JB6")]=!0,delete o.reason}),e.video_info_v2?.media?.[_0x19ed6c(442,"fD9*")]?.[_0x19ed6c(532,"#e@&")]){let o={};o[_0x19ed6c(474,"&m^h")]=2,o[_0x19ed6c(640,"e[Ip")]=e.id,o.download_url=e[_0x19ed6c(494,"mjsQ")].media[_0x19ed6c(537,"mUNT")][_0x19ed6c(648,"MdyZ")][0].master_url,a[_0x19ed6c(553,"UlNo")](o)}for(;a[_0x19ed6c(559,"fD9*")]>100;)a.shift();$[_0x19ed6c(602,"SAj(")](JSON.stringify(a),$[_0x19ed6c(620,"Dk@$")]),body=JSON[_0x19ed6c(629,"2JB6")](t)}catch{}break;case/api\/sns\/v\d+\/note\/feed/[_0x19ed6c(556,"*m[o")]($request[_0x19ed6c(507,"&m^h")]):try{let t=JSON[_0x19ed6c(551,"#LHC")](body);for(let a of t.data)if(a[_0x19ed6c(431,"C99j")]&&(a[_0x19ed6c(485,"EXC^")]=0),a.has_related_goods&&(a[_0x19ed6c(565,"SAj(")]=!1),Array[_0x19ed6c(493,"hws&")](a[_0x19ed6c(550,"Gs](")])&&a[_0x19ed6c(435,"UlNo")].forEach(x=>{const e=_0x19ed6c;x.enable=!0,delete x[e(599,"MdyZ")]}),a.note_list)for(let x of a[_0x19ed6c(614,"H3lv")])x[_0x19ed6c(625,"SAj(")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0};body=JSON[_0x19ed6c(590,"1HXq")](t)}catch{}break;case/api\/sns\/v\d+\/note\/imagefeed/[_0x19ed6c(463,"m53F")]($request[_0x19ed6c(548,"2JB6")]):try{let t=JSON[_0x19ed6c(543,"MdyZ")](body),a=[];try{a=JSON[_0x19ed6c(433,"oS)!")]($[_0x19ed6c(457,"pHXl")]($.RedBookPhotoKey)||"[]")}catch{a=[]}let x=t.data.items||t.data;for(let e of x)if(e[_0x19ed6c(582,"2IM2")]&&(e[_0x19ed6c(479,"eJ2l")]=0),e.has_related_goods&&(e[_0x19ed6c(646,"(*gv")]=!1),e.note_list){for(let o of e[_0x19ed6c(578,"C99j")])if(o[_0x19ed6c(588,"oS)!")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0},o.images_list){for(let s of o[_0x19ed6c(557,"Dk@$")])if(s[_0x19ed6c(608,"C99j")]){let d={};d.video_id=s[_0x19ed6c(562,"e[Ip")][_0x19ed6c(508,"VT6s")][_0x19ed6c(490,"eJ2l")],d[_0x19ed6c(577,"UbsI")]=s.live_photo_file_id,d[_0x19ed6c(458,"ByjN")]=s[_0x19ed6c(513,"CH)d")][_0x19ed6c(571,"e[Ip")][_0x19ed6c(537,"mUNT")].h265[0][_0x19ed6c(627,"Dk@$")],a[_0x19ed6c(585,"m53F")](d)}}}for(;a[_0x19ed6c(488,"QP3T")]>100;)a[_0x19ed6c(546,"mjsQ")]();$[_0x19ed6c(427,"Veb$")](JSON[_0x19ed6c(432,"&m^h")](a),$[_0x19ed6c(563,"WIYR")]),body=JSON[_0x19ed6c(480,"s94)")](t)}catch{}break;case/api\/sns\/v\d+\/homefeed\/categories\?/.test($request[_0x19ed6c(527,"E1LV")]):try{let t=JSON.parse(body);t[_0x19ed6c(621,"HV*f")][_0x19ed6c(446,"HV*f")]=t[_0x19ed6c(628,"E1LV")].categories[_0x19ed6c(583,"m53F")](a=>!(a.oid==_0x19ed6c(575,"UbsI")||a[_0x19ed6c(547,"(*gv")]=="homefeed.sketch"||a.oid=="homefeed.live")),body=JSON[_0x19ed6c(521,"MdyZ")](t)}catch{}break;case/api\/sns\/v\d+\/search\/hint/[_0x19ed6c(631,"8OPc")]($request[_0x19ed6c(477,"REr2")]):try{let t=JSON.parse(body);t.data?.[_0x19ed6c(572,"Gs](")]&&(t[_0x19ed6c(515,"EXC^")][_0x19ed6c(453,"QP3T")]=[{title:"\u641C\u7D22\u7B14\u8BB0",type:"firstEnterOther#itemCfRecWord#\u641C\u7D22\u7B14\u8BB0#1",search_word:"\u641C\u7D22\u7B14\u8BB0"}]),body=JSON[_0x19ed6c(452,"C99j")](t)}catch{}break;case/api\/sns\/v\d+\/search\/hot_list/[_0x19ed6c(549,"qa0@")]($request.url):try{let t=JSON[_0x19ed6c(443,"a)]g")](body);t.data={scene:"",title:"",items:[],host:"",background_color:{},word_request_id:""},body=JSON.stringify(t)}catch{}break;case/api\/sns\/v\d+\/search\/trending/[_0x19ed6c(473,"fD9*")]($request[_0x19ed6c(501,"SAj(")]):try{let t=JSON.parse(body);t[_0x19ed6c(495,"(*gv")]={title:"",queries:[],type:"",word_request_id:""},body=JSON[_0x19ed6c(429,"SAj(")](t)}catch{}break;case/api\/sns\/v\d+\/system_service\/splash_config/[_0x19ed6c(463,"m53F")]($request[_0x19ed6c(450,"Gs](")]):try{let t=JSON[_0x19ed6c(514,"#e@&")](body);t[_0x19ed6c(529,")UKv")][_0x19ed6c(634,"EXC^")].forEach(a=>{const x=_0x19ed6c,e={OcYpl:x(579,"Gs]("),fIamK:x(626,"CH)d"),qcBXC:function(o,s){return o!==s},uaBPj:"mSnzi"};a[x(466,"e[Ip")]=e[x(512,"Dk@$")],a[x(500,")UKv")]=e[x(510,"Dk@$")],a[x(460,"Dk@$")]&&(e[x(638,"#LHC")](e.uaBPj,e[x(619,"H3lv")])?_0x1e5da7[x(459,"TG0M")]={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}:a.ads[x(574,"Gs](")](o=>{const s=x;o[s(592,"UbsI")]=s(444,"jyv8"),o[s(645,"m53F")]=e[s(522,"QP3T")]}))}),body=JSON.stringify(t)}catch{}break;case/api\/sns\/v\d+\/homefeed\?/.test($request.url):try{let t=JSON.parse(body);t[_0x19ed6c(455,"4T]s")]=t.data[_0x19ed6c(618,"8OPc")](a=>!a[_0x19ed6c(484,"MdyZ")]),body=JSON[_0x19ed6c(436,"QP3T")](t)}catch{}break;case/api\/sns\/v\d+\/search\/notes\?/.test($request[_0x19ed6c(477,"REr2")]):try{let t=JSON.parse(body);t.data[_0x19ed6c(544,"2IM2")]=t[_0x19ed6c(621,"HV*f")][_0x19ed6c(528,"REr2")][_0x19ed6c(539,"mUNT")](a=>!a.ads),body=JSON[_0x19ed6c(452,"C99j")](t)}catch{}break;case/api\/sns\/v\d+\/system_service\/config\?/[_0x19ed6c(471,"oS)!")]($request.url):try{let t=JSON[_0x19ed6c(581,"eJ2l")](body);const a=[_0x19ed6c(496,"ZDuy"),_0x19ed6c(428,"8OPc"),_0x19ed6c(498,"UlNo"),_0x19ed6c(481,"E1LV"),_0x19ed6c(483,"(*gv"),_0x19ed6c(639,"*m[o")];for(const x of a)t[_0x19ed6c(647,"#LHC")]?.[x]&&delete t[_0x19ed6c(470,"UbsI")][x];t.data?.[_0x19ed6c(486,"2JB6")]&&delete t[_0x19ed6c(447,"m53F")][_0x19ed6c(622,"oS)!")],body=JSON[_0x19ed6c(590,"1HXq")](t)}catch{}break;default:$done({});break}$done({body})}else $done({});function Env(t,a){class x{constructor(o){this.env=o}send(o,s="GET"){o=typeof o=="string"?{url:o}:o;let d=this.get;return s==="POST"&&(d=this.post),new Promise((r,c)=>{d.call(this,o,(W,u,l)=>{W?c(W):r(u)})})}get(o){return this.send.call(this.env,o)}post(o){return this.send.call(this.env,o,"POST")}}return new class{constructor(e,o){this.name=e,this.http=new x(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator=`
`,this.startTime=new Date().getTime(),Object.assign(this,o)}isQuanX(){return typeof $task<"u"}isSurge(){return typeof $httpClient<"u"&&typeof $loon>"u"}isShadowrocket(){return typeof $rocket<"u"}toObj(e,o=null){try{return JSON.parse(e)}catch{return o}}toStr(e,o=null){try{return JSON.stringify(e)}catch{return o}}getjson(e,o){let s=o;if(this.getdata(e))try{s=JSON.parse(this.getdata(e))}catch{}return s}setjson(e,o){try{return this.setdata(JSON.stringify(e),o)}catch{return!1}}lodash_get(e,o,s){let d=e;for(const r of o.replace(/\[(\d+)\]/g,".$1").split("."))if(d=Object(d)[r],d===void 0)return s;return d}lodash_set(e,o,s){return Object(e)!==e||((o=Array.isArray(o)?o:o.toString().match(/[^.[\]]+/g)||[]).slice(0,-1).reduce((d,r,c)=>Object(d[r])===d[r]?d[r]:d[r]=Math.abs(o[c+1])>>0==+o[c+1]?[]:{},e)[o[o.length-1]]=s),e}getdata(e){let o=this.getval(e);if(/^@/.test(e)){var[,d,s]=/^@(.*?)\.(.*?)$/.exec(e),d=d?this.getval(d):"";if(d)try{const r=JSON.parse(d);o=r?this.lodash_get(r,s,""):o}catch{o=""}}return o}setdata(e,o){let s=!1;if(/^@/.test(o)){var[,d,r]=/^@(.*?)\.(.*?)$/.exec(o),c=this.getval(d),c=d?c==="null"?null:c||"{}":"{}";try{const W=JSON.parse(c);this.lodash_set(W,r,e),s=this.setval(JSON.stringify(W),d)}catch{c={},this.lodash_set(c,r,e),s=this.setval(JSON.stringify(c),d)}}else s=this.setval(e,o);return s}getval(e){return this.isSurge()||this.isShadowrocket()?$persistentStore.read(e):this.isQuanX()?$prefs.valueForKey(e):null}setval(e,o){return this.isSurge()||this.isShadowrocket()?$persistentStore.write(e,o):this.isQuanX()?$prefs.setValueForKey(e,o):null}get(e,o=()=>{}){e.headers&&(delete e.headers["Content-Type"],delete e.headers["Content-Length"]),this.isSurge()||this.isShadowrocket()?(this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(e,(s,d,r)=>{!s&&d&&(d.body=r,d.statusCode=d.status),o(s,d,r)})):this.isQuanX()&&(this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then(d=>{var{statusCode:d,statusCode:r,headers:c,body:W}=d;o(null,{status:d,statusCode:r,headers:c,body:W},W)},s=>o(s)))}post(e,o=()=>{}){e.body&&e.headers&&!e.headers["Content-Type"]&&(e.headers["Content-Type"]="application/x-www-form-urlencoded"),e.headers&&delete e.headers["Content-Length"],this.isSurge()||this.isShadowrocket()?(this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(e,(s,d,r)=>{!s&&d&&(d.body=r,d.statusCode=d.status),o(s,d,r)})):this.isQuanX()&&(e.method="POST",this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then(d=>{var{statusCode:d,statusCode:r,headers:c,body:W}=d;o(null,{status:d,statusCode:r,headers:c,body:W},W)},s=>o(s)))}time(e,d=null){var s,d=d?new Date(d):new Date,r={"M+":d.getMonth()+1,"d+":d.getDate(),"H+":d.getHours(),"m+":d.getMinutes(),"s+":d.getSeconds(),"q+":Math.floor((d.getMonth()+3)/3),S:d.getMilliseconds()};for(s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(d.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?r[s]:("00"+r[s]).substr((""+r[s]).length)));return e}msg(e=t,o="",s="",d){var r=c=>c&&(typeof c=="string"?this.isShadowrocket()?c:this.isQuanX()?{"open-url":c}:this.isSurge()?{url:c}:void 0:typeof c=="object"?this.isShadowrocket()?{openUrl:c.openUrl||c.url||c["open-url"],mediaUrl:c.mediaUrl||c["media-url"]}:this.isQuanX()?{"open-url":c["open-url"]||c.url||c.openUrl,"media-url":c["media-url"]||c.mediaUrl}:this.isSurge()?{url:c.url||c.openUrl||c["open-url"]}:void 0:void 0);this.isMute||(this.isSurge()||this.isShadowrocket()?$notification.post(e,o,s,r(d)):this.isQuanX()&&$notify(e,o,s,r(d))),this.isMuteLog||((r=[""]).push(e),o&&r.push(o),s&&r.push(s),this.logs=this.logs.concat(r))}log(...e){0<e.length&&(this.logs=[...this.logs,...e])}logErr(e,o){!this.isSurge()&&!this.isQuanX()&&!this.isShadowrocket()?this.log("",`\u2757\uFE0F${this.name}, \u9519\u8BEF!`,e.stack):this.log("",`\u2757\uFE0F${this.name}, \u9519\u8BEF!`,e)}wait(e){return new Promise(o=>setTimeout(o,e))}done(e={}){new Date().getTime(),this.startTime,(this.isSurge()||this.isQuanX()||this.isShadowrocket())&&$done(e)}}(t,a)}
