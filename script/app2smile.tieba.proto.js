// https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/app2smile.tieba.proto.js
(function(r){"use strict";function e(c,p,f){return p<=c&&c<=f}typeof module<"u"&&module.exports&&!r["encoding-indexes"]&&(r["encoding-indexes"]=require("./encoding-indexes.js")["encoding-indexes"]);var n=Math.floor;function t(c){if(c===void 0)return{};if(c===Object(c))return c;throw TypeError("Could not convert argument to dictionary")}function i(c){return 0<=c&&c<=127}var a=i,l=-1;function s(c){this.tokens=[].slice.call(c),this.tokens.reverse()}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():l},prepend:function(c){if(Array.isArray(c))for(var p=c;p.length;)this.tokens.push(p.pop());else this.tokens.push(c)},push:function(c){if(Array.isArray(c))for(var p=c;p.length;)this.tokens.unshift(p.shift());else this.tokens.unshift(c)}};var u=-1;function o(c,p){if(c)throw TypeError("Decoder error");return p||65533}function m(c){throw TypeError("The code point "+c+" could not be encoded.")}function S(c){return c=String(c).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(L,c)?L[c]:null}var B,F,R=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],L={},v=(R.forEach(function(c){c.encodings.forEach(function(p){p.labels.forEach(function(f){L[f]=p})})}),{}),N={};function A(c,p){return p&&p[c]||null}function _(c,p){return p=p.indexOf(c),p===-1?null:p}function D(c){if("encoding-indexes"in r)return r["encoding-indexes"][c];throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?")}var P="utf-8";function U(c,p){if(!(this instanceof U))throw TypeError("Called as a function. Did you forget 'new'?");c=c!==void 0?String(c):P,p=t(p),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var f=S(c);if(f===null||f.name==="replacement")throw RangeError("Unknown encoding: "+c);if(N[f.name])return(c=this)._encoding=f,p.fatal&&(c._error_mode="fatal"),p.ignoreBOM&&(c._ignoreBOM=!0),Object.defineProperty||(this.encoding=c._encoding.name.toLowerCase(),this.fatal=c._error_mode==="fatal",this.ignoreBOM=c._ignoreBOM),c;throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?")}function W(c,p){if(!(this instanceof W))throw TypeError("Called as a function. Did you forget 'new'?");if(p=t(p),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=p.fatal?"fatal":"replacement",p.NONSTANDARD_allowLegacyEncoding){if(p=S(c=c!==void 0?String(c):P),p===null||p.name==="replacement")throw RangeError("Unknown encoding: "+c);if(!v[p.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=p}else this._encoding=S("utf-8"),c!==void 0&&"console"in r;return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function J(c){var p=c.fatal,f=0,d=0,h=0,b=128,g=191;this.handler=function(y,T){if(T===l&&h!==0)return h=0,o(p);if(T===l)return u;if(h===0){if(e(T,0,127))return T;if(e(T,194,223))h=1,f=31&T;else if(e(T,224,239))T===224&&(b=160),T===237&&(g=159),h=2,f=15&T;else{if(!e(T,240,244))return o(p);T===240&&(b=144),T===244&&(g=143),h=3,f=7&T}return null}var k;return e(T,b,g)?(b=128,g=191,f=f<<6|63&T,(d+=1)!==h?null:(k=f,f=h=d=0,k)):(f=h=d=0,b=128,g=191,y.prepend(T),o(p))}}function X(c){c.fatal,this.handler=function(p,f){if(f===l)return u;if(a(f))return f;e(f,128,2047)?(d=1,h=192):e(f,2048,65535)?(d=2,h=224):e(f,65536,1114111)&&(d=3,h=240);for(var d,h,b=[(f>>6*d)+h];0<d;)b.push(128|63&f>>6*(d-1)),--d;return b}}function Z(c,p){var f=p.fatal;this.handler=function(d,h){return h===l?u:i(h)?h:(h=c[h-128])===null?o(f):h}}function Y(c,p){p.fatal,this.handler=function(f,d){var h;return d===l?u:a(d)?d:((h=_(d,c))===null&&m(d),h+128)}}function C(c){var p=c.fatal,f=0,d=0,h=0;this.handler=function(b,g){var y,T,k;return g===l&&f===0&&d===0&&h===0?u:(g!==l||f===0&&d===0&&h===0||(h=d=f=0,o(p)),h!==0?(y=null,e(g,48,57)&&(y=function(E){if(39419<E&&E<189e3||1237575<E)return null;if(E===7457)return 59335;for(var O=0,I=0,$=D("gb18030-ranges"),w=0;w<$.length;++w){var j=$[w];if(!(j[0]<=E))break;O=j[0],I=j[1]}return I+E-O}(10*(126*(10*(f-129)+d-48)+h-129)+g-48)),T=[d,h,g],h=d=f=0,y===null?(b.prepend(T),o(p)):y):d!==0?e(g,129,254)?(h=g,null):(b.prepend([d,g]),d=f=0,o(p)):f!==0?e(g,48,57)?(d=g,null):(T=f,f=0,(k=null)===(y=(k=e(g,64,126)||e(g,128,254)?190*(T-129)+(g-(g<127?64:65)):k)===null?null:A(k,D("gb18030")))&&i(g)&&b.prepend(g),y===null?o(p):y):i(g)?g:g===128?8364:e(g,129,254)?(f=g,null):o(p))}}function M(c,p){c.fatal,this.handler=function(f,d){var h,b;return d===l?u:a(d)?d:d===58853?m(d):p&&d===8364?128:(h=_(d,D("gb18030")))!==null?(b=h%190,[n(h/190)+129,b+(b<63?64:65)]):p?m(d):(h=function(g){if(g===59335)return 7457;for(var y=0,T=0,k=D("gb18030-ranges"),E=0;E<k.length;++E){var O=k[E];if(!(O[1]<=g))break;y=O[1],T=O[0]}return T+g-y}(d),[(b=n(h/10/126/10))+129,(d=n((h-=10*b*126*10)/10/126))+48,(b=n((h-=10*d*126)/10))+129,48+(h-10*b)])}}function q(c){var p=c.fatal,f=0;this.handler=function(d,h){if(h===l&&f!==0)return f=0,o(p);if(h===l&&f===0)return u;if(f===0)return i(h)?h:e(h,129,254)?(f=h,null):o(p);var b=f,g=null;switch(f=0,g=e(h,64,126)||e(h,161,254)?157*(b-129)+(h-(h<127?64:98)):g){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}return b=g===null?null:A(g,D("big5")),b===null&&i(h)&&d.prepend(h),b===null?o(p):b}}function z(c){c.fatal,this.handler=function(p,f){var d,h;return f===l?u:a(f)?f:(d=f,h=F=F||D("big5").map(function(b,g){return g<5024?null:b}),(d=d===9552||d===9566||d===9569||d===9578||d===21313||d===21317?h.lastIndexOf(d):_(d,h))===null||(h=n(d/157)+129)<161?m(f):[h,(f=d%157)+(f<63?64:98)])}}function H(c){var p=c.fatal,f=!1,d=0;this.handler=function(h,b){var g,y;return b===l&&d!==0?(d=0,o(p)):b===l&&d===0?u:d===142&&e(b,161,223)?(d=0,65216+b):d===143&&e(b,161,254)?(f=!0,d=b,null):d!==0?(g=d,d=0,y=null,e(g,161,254)&&e(b,161,254)&&(y=A(94*(g-161)+(b-161),D(f?"jis0212":"jis0208"))),f=!1,e(b,161,254)||h.prepend(b),y===null?o(p):y):i(b)?b:b===142||b===143||e(b,161,254)?(d=b,null):o(p)}}function Q(c){c.fatal,this.handler=function(p,f){var d;return f===l?u:a(f)?f:f===165?92:f===8254?126:e(f,65377,65439)?[142,f-65377+161]:(d=_(f=f===8722?65293:f,D("jis0208")))===null?m(f):[n(d/94)+161,d%94+161]}}function ee(c){var p=c.fatal,f=0,d=1,h=2,b=3,g=4,y=5,T=6,k=f,E=f,O=0,I=!1;this.handler=function($,w){switch(k){default:case f:return w===27?(k=y,null):e(w,0,127)&&w!==14&&w!==15&&w!==27?(I=!1,w):w===l?u:(I=!1,o(p));case d:return w===27?(k=y,null):w===92?(I=!1,165):w===126?(I=!1,8254):e(w,0,127)&&w!==14&&w!==15&&w!==27&&w!==92&&w!==126?(I=!1,w):w===l?u:(I=!1,o(p));case h:return w===27?(k=y,null):e(w,33,95)?(I=!1,65344+w):w===l?u:(I=!1,o(p));case b:return w===27?(k=y,null):e(w,33,126)?(I=!1,O=w,k=g,null):w===l?u:(I=!1,o(p));case g:if(w===27)k=y;else{if(e(w,33,126))return k=b,(j=A(94*(O-33)+w-33,D("jis0208")))===null?o(p):j;w===l?(k=b,$.prepend(w)):k=b}return o(p);case y:return w===36||w===40?(O=w,k=T,null):($.prepend(w),I=!1,k=E,o(p));case T:var j=O,x=(O=0,null);return j===40&&w===66&&(x=f),j===40&&w===74&&(x=d),j===40&&w===73&&(x=h),(x=j!==36||w!==64&&w!==66?x:b)!==null?(k=x,x=I,I=!0,x?o(p):null):($.prepend([j,w]),I=!1,k=E,o(p))}}}function ne(c){c.fatal;var p=0,f=1,d=2,h=p;this.handler=function(b,g){if(g===l&&h!==p)return b.prepend(g),h=p,[27,40,66];if(g===l&&h===p)return u;if(!(h!==p&&h!==f||g!==14&&g!==15&&g!==27))return m(65533);if(h===p&&a(g))return g;if(h===f&&(a(g)&&g!==92&&g!==126||g==165||g==8254)){if(a(g))return g;if(g===165)return 92;if(g===8254)return 126}var y;return a(g)&&h!==p?(b.prepend(g),h=p,[27,40,66]):g!==165&&g!==8254||h===f?(y=_(g=g===8722?65293:g,D("jis0208")))===null?m(g):h!==d?(b.prepend(g),h=d,[27,36,66]):[n(y/94)+33,y%94+33]:(b.prepend(g),h=f,[27,40,74])}}function te(c){var p=c.fatal,f=0;this.handler=function(d,h){var b,g;return h===l&&f!==0?(f=0,o(p)):h===l&&f===0?u:f!==0?(g=f,b=null,f=0,(e(h,64,126)||e(h,128,252))&&(b=188*(g-(g<160?129:193))+h-(h<127?64:65)),e(b,8836,10715)?48508+b:((g=b===null?null:A(b,D("jis0208")))===null&&i(h)&&d.prepend(h),g===null?o(p):g)):i(h)||h===128?h:e(h,161,223)?65216+h:e(h,129,159)||e(h,224,252)?(f=h,null):o(p)}}function re(c){c.fatal,this.handler=function(p,f){var d;return f===l?u:a(f)||f===128?f:f===165?92:f===8254?126:e(f,65377,65439)?f-65377+161:(d=f=f===8722?65293:f,(d=(B=B||D("jis0208").map(function(h,b){return e(b,8272,8835)?null:h})).indexOf(d))===null?m(f):[(f=n(d/188))+(f<31?129:193),(f=d%188)+(f<63?64:65)])}}function ie(c){var p=c.fatal,f=0;this.handler=function(d,h){var b,g;return h===l&&f!==0?(f=0,o(p)):h===l&&f===0?u:f!==0?(g=f,f=0,g=(b=null)===(b=e(h,65,254)?190*(g-129)+(h-65):b)?null:A(b,D("euc-kr")),b===null&&i(h)&&d.prepend(h),g===null?o(p):g):i(h)?h:e(h,129,254)?(f=h,null):o(p)}}function ae(c){c.fatal,this.handler=function(p,f){var d;return f===l?u:a(f)?f:(d=_(f,D("euc-kr")))===null?m(f):[n(d/190)+129,d%190+65]}}function V(d,p){var f=d>>8,d=255&d;return p?[f,d]:[d,f]}function G(c,p){var f=p.fatal,d=null,h=null;this.handler=function(b,g){var y;return g!==l||d===null&&h===null?g===l&&d===null&&h===null?u:d===null?(d=g,null):(g=c?(d<<8)+g:(g<<8)+d,(d=null)!==h?(y=h,h=null,e(g,56320,57343)?65536+1024*(y-55296)+(g-56320):(b.prepend(V(g,c)),o(f))):e(g,55296,56319)?(h=g,null):e(g,56320,57343)?o(f):g):o(f)}}function K(c,p){p.fatal,this.handler=function(f,d){var h;return d===l?u:e(d,0,65535)?V(d,c):(h=V(55296+(d-65536>>10),c),d=V(56320+(d-65536&1023),c),h.concat(d))}}function se(c){c.fatal,this.handler=function(p,f){return f===l?u:i(f)?f:63360+f-128}}function oe(c){c.fatal,this.handler=function(p,f){return f===l?u:a(f)?f:e(f,63360,63487)?f-63360+128:m(f)}}Object.defineProperty&&(Object.defineProperty(U.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(U.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(U.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),U.prototype.decode=function(c,p){c=typeof c=="object"&&c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="object"&&"buffer"in c&&c.buffer instanceof ArrayBuffer?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(0),p=t(p),this._do_not_flush||(this._decoder=N[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!p.stream;for(var f,d=new s(c),h=[];;){var b=d.read();if(b===l||(f=this._decoder.handler(d,b))===u)break;f!==null&&(Array.isArray(f)?h.push.apply(h,f):h.push(f))}if(!this._do_not_flush){for(;(f=this._decoder.handler(d,d.read()))!==u&&(f!==null&&(Array.isArray(f)?h.push.apply(h,f):h.push(f)),!d.endOfStream()););this._decoder=null}return function(g){y=["UTF-8","UTF-16LE","UTF-16BE"],T=this._encoding.name,y.indexOf(T)===-1||this._ignoreBOM||this._BOMseen||(0<g.length&&g[0]===65279?(this._BOMseen=!0,g.shift()):0<g.length&&(this._BOMseen=!0));for(var y,T,k=g,E="",O=0;O<k.length;++O){var I=k[O];I<=65535?E+=String.fromCharCode(I):(I-=65536,E+=String.fromCharCode(55296+(I>>10),56320+(1023&I)))}return E}.call(this,h)},Object.defineProperty&&Object.defineProperty(W.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),W.prototype.encode=function(c,p){c=c===void 0?"":String(c),p=t(p),this._do_not_flush||(this._encoder=v[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!p.stream;for(var f,d=new s(function(g){for(var y=String(g),T=y.length,k=0,E=[];k<T;){var O,I=y.charCodeAt(k);I<55296||57343<I?E.push(I):56320<=I&&I<=57343?E.push(65533):55296<=I&&I<=56319&&(k!==T-1&&56320<=(O=y.charCodeAt(k+1))&&O<=57343?(E.push(65536+((1023&I)<<10)+(1023&O)),k+=1):E.push(65533)),k+=1}return E}(c)),h=[];;){var b=d.read();if(b===l||(f=this._encoder.handler(d,b))===u)break;Array.isArray(f)?h.push.apply(h,f):h.push(f)}if(!this._do_not_flush){for(;(f=this._encoder.handler(d,d.read()))!==u;)Array.isArray(f)?h.push.apply(h,f):h.push(f);this._encoder=null}return new Uint8Array(h)},v["UTF-8"]=function(c){return new X(c)},N["UTF-8"]=function(c){return new J(c)},"encoding-indexes"in r&&R.forEach(function(c){c.heading==="Legacy single-byte encodings"&&c.encodings.forEach(function(f){var f=f.name,d=D(f.toLowerCase());N[f]=function(h){return new Z(d,h)},v[f]=function(h){return new Y(d,h)}})}),N.GBK=function(c){return new C(c)},v.GBK=function(c){return new M(c,!0)},v.gb18030=function(c){return new M(c)},N.gb18030=function(c){return new C(c)},v.Big5=function(c){return new z(c)},N.Big5=function(c){return new q(c)},v["EUC-JP"]=function(c){return new Q(c)},N["EUC-JP"]=function(c){return new H(c)},v["ISO-2022-JP"]=function(c){return new ne(c)},N["ISO-2022-JP"]=function(c){return new ee(c)},v.Shift_JIS=function(c){return new re(c)},N.Shift_JIS=function(c){return new te(c)},v["EUC-KR"]=function(c){return new ae(c)},N["EUC-KR"]=function(c){return new ie(c)},v["UTF-16BE"]=function(c){return new K(!0,c)},N["UTF-16BE"]=function(c){return new G(!0,c)},v["UTF-16LE"]=function(c){return new K(!1,c)},N["UTF-16LE"]=function(c){return new G(!1,c)},v["x-user-defined"]=function(c){return new oe(c)},N["x-user-defined"]=function(c){return new se(c)},r.TextEncoder||(r.TextEncoder=W),r.TextDecoder||(r.TextDecoder=U),typeof module<"u"&&module.exports&&(module.exports={TextEncoder:r.TextEncoder,TextDecoder:r.TextDecoder,EncodingIndexes:r["encoding-indexes"]})})(this||{});(r=>{r.symbol=Symbol.for("protobuf-ts/unknown"),r.onRead=(n,t,i,a,l)=>{(e(t)?t[r.symbol]:t[r.symbol]=[]).push({no:i,wireType:a,data:l})},r.onWrite=(n,t,i)=>{for(var{no:a,wireType:l,data:s}of r.list(t))i.tag(a,l).raw(s)},r.list=(n,t)=>e(n)?(n=n[r.symbol],t?n.filter(i=>i.no==t):n):[],r.last=(n,t)=>(0,r.list)(n,t).slice(-1)[0];const e=n=>n&&Array.isArray(n[r.symbol])})(UnknownFieldHandler=UnknownFieldHandler||{});var UnknownFieldHandler,WireType=(r=>(r[r.Varint=0]="Varint",r[r.Bit64=1]="Bit64",r[r.LengthDelimited=2]="LengthDelimited",r[r.StartGroup=3]="StartGroup",r[r.EndGroup=4]="EndGroup",r[r.Bit32=5]="Bit32",r))(WireType||{});const MESSAGE_TYPE=Symbol.for("protobuf-ts/message-type");function lowerCamelCase(r){let e=!1;var n=[];for(let i=0;i<r.length;i++){var t=r.charAt(i);t=="_"?e=!0:/\d/.test(t)?(n.push(t),e=!0):e?(n.push(t.toUpperCase()),e=!1):i==0?n.push(t.toLowerCase()):n.push(t)}return n.join("")}var ScalarType=(r=>(r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64",r))(ScalarType||{}),LongType=(r=>(r[r.BIGINT=0]="BIGINT",r[r.STRING=1]="STRING",r[r.NUMBER=2]="NUMBER",r))(LongType||{}),RepeatType=(r=>(r[r.NO=0]="NO",r[r.PACKED=1]="PACKED",r[r.UNPACKED=2]="UNPACKED",r))(RepeatType||{});function normalizeFieldInfo(r){return r.localName=r.localName??lowerCamelCase(r.name),r.jsonName=r.jsonName??lowerCamelCase(r.name),r.repeat=r.repeat??0,r.opt=r.opt??(!r.repeat&&!r.oneof&&r.kind=="message"),r}function isOneofGroup(r){if(typeof r!="object"||r===null||!r.hasOwnProperty("oneofKind"))return!1;switch(typeof r.oneofKind){case"string":return r[r.oneofKind]===void 0?!1:Object.keys(r).length==2;case"undefined":return Object.keys(r).length==1;default:return!1}}class ReflectionTypeCheck{constructor(e){this.fields=e.fields??[]}prepare(){if(!this.data){var e,n=[],t=[],i=[];for(e of this.fields)if(e.oneof)i.includes(e.oneof)||(i.push(e.oneof),n.push(e.oneof),t.push(e.oneof));else switch(t.push(e.localName),e.kind){case"scalar":case"enum":e.opt&&!e.repeat||n.push(e.localName);break;case"message":e.repeat&&n.push(e.localName);break;case"map":n.push(e.localName)}this.data={req:n,known:t,oneofs:Object.values(i)}}}is(e,n,t=!1){if(!(n<0)){if(e==null||typeof e!="object")return!1;this.prepare();let a=Object.keys(e),l=this.data;if(a.length<l.req.length||l.req.some(s=>!a.includes(s))||!t&&a.some(s=>!l.known.includes(s)))return!1;if(!(n<1)){for(const s of l.oneofs){const u=e[s];if(!isOneofGroup(u))return!1;if(u.oneofKind!==void 0){var i=this.fields.find(o=>o.localName===u.oneofKind);if(!i||!this.field(u[u.oneofKind],i,t,n))return!1}}for(const s of this.fields)if(s.oneof===void 0&&!this.field(e[s.localName],s,t,n))return!1}}return!0}field(e,n,t,i){var a=n.repeat;switch(n.kind){case"scalar":return e===void 0?n.opt:a?this.scalars(e,n.T,i,n.L):this.scalar(e,n.T,n.L);case"enum":return e===void 0?n.opt:a?this.scalars(e,ScalarType.INT32,i):this.scalar(e,ScalarType.INT32);case"message":return e===void 0?!0:a?this.messages(e,n.T(),t,i):this.message(e,n.T(),t,i);case"map":if(typeof e!="object"||e===null)return!1;if(i<2)return!0;if(!this.mapKeys(e,n.K,i))return!1;switch(n.V.kind){case"scalar":return this.scalars(Object.values(e),n.V.T,i,n.V.L);case"enum":return this.scalars(Object.values(e),ScalarType.INT32,i);case"message":return this.messages(Object.values(e),n.V.T(),t,i)}}return!0}message(e,n,t,i){return t?n.isAssignable(e,i):n.is(e,i)}messages(e,n,t,i){if(!Array.isArray(e))return!1;if(!(i<2)){if(t){for(let a=0;a<e.length&&a<i;a++)if(!n.isAssignable(e[a],i-1))return!1}else for(let a=0;a<e.length&&a<i;a++)if(!n.is(e[a],i-1))return!1}return!0}scalar(e,n,t){var i=typeof e;switch(n){case ScalarType.UINT64:case ScalarType.FIXED64:case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:switch(t){case LongType.BIGINT:return i=="bigint";case LongType.NUMBER:return i=="number"&&!isNaN(e);default:return i=="string"}case ScalarType.BOOL:return i=="boolean";case ScalarType.STRING:return i=="string";case ScalarType.BYTES:return e instanceof Uint8Array;case ScalarType.DOUBLE:case ScalarType.FLOAT:return i=="number"&&!isNaN(e);default:return i=="number"&&Number.isInteger(e)}}scalars(e,n,t,i){if(!Array.isArray(e))return!1;if(!(t<2)&&Array.isArray(e)){for(let a=0;a<e.length&&a<t;a++)if(!this.scalar(e[a],n,i))return!1}return!0}mapKeys(e,n,t){var i=Object.keys(e);switch(n){case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.UINT32:return this.scalars(i.slice(0,t).map(a=>parseInt(a)),n,t);case ScalarType.BOOL:return this.scalars(i.slice(0,t).map(a=>a=="true"||a!="false"&&a),n,t);default:return this.scalars(i,n,t,LongType.STRING)}}}function typeofJsonValue(r){var e=typeof r;if(e=="object"){if(Array.isArray(r))return"array";if(r===null)return"null"}return e}function isJsonObject(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}let encTable="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),decTable=[];for(let r=0;r<encTable.length;r++)decTable[encTable[r].charCodeAt(0)]=r;function base64decode(r){let e=3*r.length/4,n=(r[r.length-2]=="="?e-=2:r[r.length-1]=="="&&--e,new Uint8Array(e)),t=0,i=0,a,l=0;for(let s=0;s<r.length;s++){if((a=decTable[r.charCodeAt(s)])===void 0)switch(r[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:l=a,i=1;break;case 1:n[t++]=l<<2|(48&a)>>4,l=a,i=2;break;case 2:n[t++]=(15&l)<<4|(60&a)>>2,l=a,i=3;break;case 3:n[t++]=(3&l)<<6|a,i=0}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,t)}function base64encode(r){let e="",n=0,t,i=0;for(let a=0;a<r.length;a++)switch(t=r[a],n){case 0:e+=encTable[t>>2],i=(3&t)<<4,n=1;break;case 1:e+=encTable[i|t>>4],i=(15&t)<<2,n=2;break;case 2:e=(e+=encTable[i|t>>6])+encTable[63&t],n=0}return n&&(e=e+encTable[i]+"=",n==1&&(e+="=")),e}function varint64read(){let r=0,e=0;for(let a=0;a<28;a+=7){var n=this.buf[this.pos++];if(r|=(127&n)<<a,(128&n)==0)return this.assertBounds(),[r,e]}var t=this.buf[this.pos++];if(r|=(15&t)<<28,e=(112&t)>>4,(128&t)==0)return this.assertBounds(),[r,e];for(let a=3;a<=31;a+=7){var i=this.buf[this.pos++];if(e|=(127&i)<<a,(128&i)==0)return this.assertBounds(),[r,e]}throw new Error("invalid varint")}function varint64write(r,e,n){for(let o=0;o<28;o+=7){var t=r>>>o,i=!(!(t>>>7)&&e==0);if(n.push(255&(i?128|t:t)),!i)return}var a=r>>>28&15|(7&e)<<4,l=!!(e>>3);if(n.push(255&(l?128|a:a)),l){for(let o=3;o<31;o+=7){var s=e>>>o,u=!!(s>>>7);if(n.push(255&(u?128|s:s)),!u)return}n.push(e>>>31&1)}}decTable[45]=encTable.indexOf("+"),decTable[95]=encTable.indexOf("/");const TWO_PWR_32_DBL$1=4294967296;function int64fromString(r){var e=r[0]=="-";e&&(r=r.slice(1));let n=0,t=0;function i(a,l){a=Number(r.slice(a,l)),t*=1e6,(n=1e6*n+a)>=TWO_PWR_32_DBL$1&&(t+=n/TWO_PWR_32_DBL$1|0,n%=TWO_PWR_32_DBL$1)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),[e,n,t]}function int64toString(r,t){if(t<=2097151)return""+(TWO_PWR_32_DBL$1*t+(r>>>0));var n=(r>>>24|t<<8)>>>0&16777215,t=t>>16&65535;let i=(16777215&r)+6777216*n+6710656*t,a=n+8147497*t,l=2*t;function s(u,o){return u=u?String(u):"",o?"0000000".slice(u.length)+u:u}return 1e7<=i&&(a+=Math.floor(i/1e7),i%=1e7),1e7<=a&&(l+=Math.floor(a/1e7),a%=1e7),s(l,0)+s(a,l)+s(i,1)}function varint32write(r,e){if(0<=r){for(;127<r;)e.push(127&r|128),r>>>=7;e.push(r)}else{for(let n=0;n<9;n++)e.push(127&r|128),r>>=7;e.push(1)}}function varint32read(){let r=this.buf[this.pos++];var e=127&r;if(!(128&r))return this.assertBounds(),e;if(e|=(127&(r=this.buf[this.pos++]))<<7,(128&r)==0)return this.assertBounds(),e;if(e|=(127&(r=this.buf[this.pos++]))<<14,(128&r)==0)return this.assertBounds(),e;if(e|=(127&(r=this.buf[this.pos++]))<<21,(128&r)==0)return this.assertBounds(),e;e|=(15&(r=this.buf[this.pos++]))<<28;for(let n=5;128&r&&n<10;n++)r=this.buf[this.pos++];if(128&r)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function detectBi(){var r=new DataView(new ArrayBuffer(8));return globalThis.BigInt!==void 0&&typeof r.getBigInt64=="function"&&typeof r.getBigUint64=="function"&&typeof r.setBigInt64=="function"&&typeof r.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:r}:void 0}const BI=detectBi();function assertBi(r){if(!r)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const RE_DECIMAL_STR=/^-?[0-9]+$/,TWO_PWR_32_DBL=4294967296;class SharedPbLong{constructor(e,n){this.lo=0|e,this.hi=0|n}isZero(){return this.lo==0&&this.hi==0}toNumber(){var e=this.hi*TWO_PWR_32_DBL+(this.lo>>>0);if(Number.isSafeInteger(e))return e;throw new Error("cannot convert to safe number")}}const _PbULong=class extends SharedPbLong{static from(r){if(BI)switch(typeof r){case"string":if(r=="0")return this.ZERO;if(r=="")throw new Error("string is no integer");r=BI.C(r);case"number":if(r===0)return this.ZERO;r=BI.C(r);case"bigint":if(!r)return this.ZERO;if(r<BI.UMIN)throw new Error("signed value for ulong");if(r>BI.UMAX)throw new Error("ulong too large");return BI.V.setBigUint64(0,r,!0),new _PbULong(BI.V.getInt32(0,!0),BI.V.getInt32(4,!0))}else switch(typeof r){case"string":if(r=="0")return this.ZERO;if(r=r.trim(),!RE_DECIMAL_STR.test(r))throw new Error("string is no integer");var[e,n,t]=int64fromString(r);if(e)throw new Error("signed value");return new _PbULong(n,t);case"number":if(r==0)return this.ZERO;if(!Number.isSafeInteger(r))throw new Error("number is no integer");if(r<0)throw new Error("signed value for ulong");return new _PbULong(r,r/TWO_PWR_32_DBL)}throw new Error("unknown value "+typeof r)}toString(){return BI?this.toBigInt().toString():int64toString(this.lo,this.hi)}toBigInt(){return assertBi(BI),BI.V.setInt32(0,this.lo,!0),BI.V.setInt32(4,this.hi,!0),BI.V.getBigUint64(0,!0)}};let PbULong=_PbULong;PbULong.ZERO=new _PbULong(0,0);const _PbLong=class extends SharedPbLong{static from(r){if(BI)switch(typeof r){case"string":if(r=="0")return this.ZERO;if(r=="")throw new Error("string is no integer");r=BI.C(r);case"number":if(r===0)return this.ZERO;r=BI.C(r);case"bigint":if(!r)return this.ZERO;if(r<BI.MIN)throw new Error("ulong too small");if(r>BI.MAX)throw new Error("ulong too large");return BI.V.setBigInt64(0,r,!0),new _PbLong(BI.V.getInt32(0,!0),BI.V.getInt32(4,!0))}else switch(typeof r){case"string":if(r=="0")return this.ZERO;var e,n,t;if(r=r.trim(),RE_DECIMAL_STR.test(r))return[e,t,n]=int64fromString(r),t=new _PbLong(t,n),e?t.negate():t;throw new Error("string is no integer");case"number":if(r==0)return this.ZERO;if(Number.isSafeInteger(r))return 0<r?new _PbLong(r,r/TWO_PWR_32_DBL):new _PbLong(-r,-r/TWO_PWR_32_DBL).negate();throw new Error("number is no integer")}throw new Error("unknown value "+typeof r)}isNegative(){return(2147483648&this.hi)!=0}negate(){let r=~this.hi,e=this.lo;return e?e=1+~e:r+=1,new _PbLong(e,r)}toString(){var r;return BI?this.toBigInt().toString():this.isNegative()?"-"+int64toString((r=this.negate()).lo,r.hi):int64toString(this.lo,this.hi)}toBigInt(){return assertBi(BI),BI.V.setInt32(0,this.lo,!0),BI.V.setInt32(4,this.hi,!0),BI.V.getBigInt64(0,!0)}};let PbLong=_PbLong;function assert(r,e){if(!r)throw new Error(e)}PbLong.ZERO=new _PbLong(0,0);const FLOAT32_MAX=34028234663852886e22,FLOAT32_MIN=-34028234663852886e22,UINT32_MAX=4294967295,INT32_MAX=2147483647,INT32_MIN=-2147483648;function assertInt32(r){if(typeof r!="number")throw new Error("invalid int 32: "+typeof r);if(!Number.isInteger(r)||r>INT32_MAX||r<INT32_MIN)throw new Error("invalid int 32: "+r)}function assertUInt32(r){if(typeof r!="number")throw new Error("invalid uint 32: "+typeof r);if(!Number.isInteger(r)||r>UINT32_MAX||r<0)throw new Error("invalid uint 32: "+r)}function assertFloat32(r){if(typeof r!="number")throw new Error("invalid float 32: "+typeof r);if(Number.isFinite(r)&&(r>FLOAT32_MAX||r<FLOAT32_MIN))throw new Error("invalid float 32: "+r)}function reflectionLongConvert(r,e){switch(e){case LongType.BIGINT:return r.toBigInt();case LongType.NUMBER:return r.toNumber();default:return r.toString()}}class ReflectionJsonReader{constructor(e){this.info=e}prepare(){if(this.fMap===void 0){this.fMap={};for(const e of this.info.fields??[])this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,n,t){if(!e){let i=typeofJsonValue(t);throw i!="number"&&i!="boolean"||(i=t.toString()),new Error(`Cannot parse JSON ${i} for ${this.info.typeName}#`+n)}}read(e,n,t){this.prepare();var i,a,l=[];for([i,a]of Object.entries(e)){var s=this.fMap[i];if(!s){if(t.ignoreUnknownFields)continue;throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: `+i)}var u=s.localName;let R;if(s.oneof){if(l.includes(s.oneof))throw new Error(`Multiple members of the oneof group "${s.oneof}" of ${this.info.typeName} are present in JSON.`);l.push(s.oneof),R=n[s.oneof]={oneofKind:u}}else R=n;if(s.kind=="map"){if(a!==null){this.assert(isJsonObject(a),s.name,a);var o,m,S=R[u];for([o,m]of Object.entries(a)){this.assert(m!==null,s.name+" map value",null);let L;switch(s.V.kind){case"message":L=s.V.T().internalJsonRead(m,t);break;case"enum":if((L=this.enum(s.V.T(),m,s.name,t.ignoreUnknownFields))===!1)continue;break;case"scalar":L=this.scalar(m,s.V.T,s.V.L,s.name)}this.assert(L!==void 0,s.name+" map value",m);let v=o;s.K==ScalarType.BOOL&&(v=v=="true"||v!="false"&&v),S[v=this.scalar(v,s.K,LongType.STRING,s.name).toString()]=L}}}else if(s.repeat){if(a!==null){this.assert(Array.isArray(a),s.name,a);var B=R[u];for(const L of a){this.assert(L!==null,s.name,null);let v;switch(s.kind){case"message":v=s.T().internalJsonRead(L,t);break;case"enum":if((v=this.enum(s.T(),L,s.name,t.ignoreUnknownFields))===!1)continue;break;case"scalar":v=this.scalar(L,s.T,s.L,s.name)}this.assert(v!==void 0,s.name,a),B.push(v)}}}else switch(s.kind){case"message":a===null&&s.T().typeName!="google.protobuf.Value"?this.assert(s.oneof===void 0,s.name+" (oneof member)",null):R[u]=s.T().internalJsonRead(a,t,R[u]);break;case"enum":var F=this.enum(s.T(),a,s.name,t.ignoreUnknownFields);F!==!1&&(R[u]=F);break;case"scalar":R[u]=this.scalar(a,s.T,s.L,s.name)}}}enum(e,n,t,i){if(e[0]=="google.protobuf.NullValue"&&assert(n===null,`Unable to parse field ${this.info.typeName}#${t}, enum ${e[0]} only accepts null.`),n===null)return 0;switch(typeof n){case"number":return assert(Number.isInteger(n),`Unable to parse field ${this.info.typeName}#${t}, enum can only be integral number, got ${n}.`),n;case"string":let l=n;e[2]&&n.substring(0,e[2].length)===e[2]&&(l=n.substring(e[2].length));var a=e[1][l];return a===void 0&&i?!1:(assert(typeof a=="number",`Unable to parse field ${this.info.typeName}#${t}, enum ${e[0]} has no value for "${n}".`),a)}assert(!1,`Unable to parse field ${this.info.typeName}#${t}, cannot parse enum value from ${typeof n}".`)}scalar(e,n,t,i){let a;try{switch(n){case ScalarType.DOUBLE:case ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e==="")a="empty string";else if(typeof e=="string"&&e.trim().length!==e.length)a="extra whitespace";else if(typeof e=="string"||typeof e=="number"){var l=Number(e);if(Number.isNaN(l))a="not a number";else{if(Number.isFinite(l))return n==ScalarType.FLOAT&&assertFloat32(l),l;a="too large or small"}}break;case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.UINT32:if(e===null)return 0;let s;if(typeof e=="number"?s=e:e===""?a="empty string":typeof e=="string"&&(e.trim().length!==e.length?a="extra whitespace":s=Number(e)),s===void 0)break;return(n==ScalarType.UINT32?assertUInt32:assertInt32)(s),s;case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:if(e===null)return reflectionLongConvert(PbLong.ZERO,t);if(typeof e!="number"&&typeof e!="string")break;return reflectionLongConvert(PbLong.from(e),t);case ScalarType.FIXED64:case ScalarType.UINT64:if(e===null)return reflectionLongConvert(PbULong.ZERO,t);if(typeof e!="number"&&typeof e!="string")break;return reflectionLongConvert(PbULong.from(e),t);case ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case ScalarType.STRING:if(e===null)return"";if(typeof e!="string"){a="extra whitespace";break}try{encodeURIComponent(e)}catch{break}return e;case ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return base64decode(e)}}catch(s){a=s.message}this.assert(!1,i+(a?" - "+a:""),e)}}class ReflectionJsonWriter{constructor(e){this.fields=e.fields??[]}write(e,n){var t,i,a={},l=e;for(const s of this.fields)s.oneof?(t=l[s.oneof]).oneofKind===s.localName&&(i=s.kind=="scalar"||s.kind=="enum"?{...n,emitDefaultValues:!0}:n,assert((t=this.field(s,t[s.localName],i))!==void 0),a[n.useProtoFieldName?s.name:s.jsonName]=t):(i=this.field(s,l[s.localName],n))!==void 0&&(a[n.useProtoFieldName?s.name:s.jsonName]=i);return a}field(e,n,t){let i;if(e.kind=="map"){assert(typeof n=="object"&&n!==null);var a={};switch(e.V.kind){case"scalar":for(var[l,s]of Object.entries(n))s=this.scalar(e.V.T,s,e.name,!1,!0),assert(s!==void 0),a[l.toString()]=s;break;case"message":var u,o,m=e.V.T();for([u,o]of Object.entries(n)){var S=this.message(m,o,e.name,t);assert(S!==void 0),a[u.toString()]=S}break;case"enum":var B,F,R=e.V.T();for([B,F]of Object.entries(n)){assert(F===void 0||typeof F=="number");var L=this.enum(R,F,e.name,!1,!0,t.enumAsInteger);assert(L!==void 0),a[B.toString()]=L}}(t.emitDefaultValues||0<Object.keys(a).length)&&(i=a)}else if(e.repeat){assert(Array.isArray(n));var v=[];switch(e.kind){case"scalar":for(let U=0;U<n.length;U++){var N=this.scalar(e.T,n[U],e.name,e.opt,!0);assert(N!==void 0),v.push(N)}break;case"enum":var A=e.T();for(let U=0;U<n.length;U++){assert(n[U]===void 0||typeof n[U]=="number");var _=this.enum(A,n[U],e.name,e.opt,!0,t.enumAsInteger);assert(_!==void 0),v.push(_)}break;case"message":var D=e.T();for(let U=0;U<n.length;U++){var P=this.message(D,n[U],e.name,t);assert(P!==void 0),v.push(P)}}(t.emitDefaultValues||0<v.length||t.emitDefaultValues)&&(i=v)}else switch(e.kind){case"scalar":i=this.scalar(e.T,n,e.name,e.opt,t.emitDefaultValues);break;case"enum":i=this.enum(e.T(),n,e.name,e.opt,t.emitDefaultValues,t.enumAsInteger);break;case"message":i=this.message(e.T(),n,e.name,t)}return i}enum(e,n,t,i,a,l){if(e[0]=="google.protobuf.NullValue")return null;if(n===void 0)assert(i);else if(n!==0||a||i)return assert(typeof n=="number"),assert(Number.isInteger(n)),l||!e[1].hasOwnProperty(n)?n:e[2]?e[2]+e[1][n]:e[1][n]}message(e,n,t,i){return n===void 0?i.emitDefaultValues?null:void 0:e.internalJsonWrite(n,i)}scalar(e,n,t,i,a){if(n===void 0)assert(i);else{var l=a||i;switch(e){case ScalarType.INT32:case ScalarType.SFIXED32:case ScalarType.SINT32:return n===0?l?0:void 0:(assertInt32(n),n);case ScalarType.FIXED32:case ScalarType.UINT32:return n===0?l?0:void 0:(assertUInt32(n),n);case ScalarType.FLOAT:assertFloat32(n);case ScalarType.DOUBLE:return n===0?l?0:void 0:(assert(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n);case ScalarType.STRING:return n===""?l?"":void 0:(assert(typeof n=="string"),n);case ScalarType.BOOL:return n===!1?!l&&void 0:(assert(typeof n=="boolean"),n);case ScalarType.UINT64:case ScalarType.FIXED64:assert(typeof n=="number"||typeof n=="string"||typeof n=="bigint");var s=PbULong.from(n);return s.isZero()&&!l?void 0:s.toString();case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:return assert(typeof n=="number"||typeof n=="string"||typeof n=="bigint"),s=PbLong.from(n),s.isZero()&&!l?void 0:s.toString();case ScalarType.BYTES:return assert(n instanceof Uint8Array),n.byteLength?base64encode(n):l?"":void 0}}}}function reflectionScalarDefault(r,e=LongType.STRING){switch(r){case ScalarType.BOOL:return!1;case ScalarType.UINT64:case ScalarType.FIXED64:return reflectionLongConvert(PbULong.ZERO,e);case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:return reflectionLongConvert(PbLong.ZERO,e);case ScalarType.DOUBLE:case ScalarType.FLOAT:return 0;case ScalarType.BYTES:return new Uint8Array(0);case ScalarType.STRING:return"";default:return 0}}class ReflectionBinaryReader{constructor(e){this.info=e}prepare(){var e;this.fieldNoToField||(e=this.info.fields??[],this.fieldNoToField=new Map(e.map(n=>[n.no,n])))}read(e,n,t,i){this.prepare();for(var a=i===void 0?e.len:e.pos+i;e.pos<a;){var[l,s]=e.tag(),u=this.fieldNoToField.get(l);if(u){let N=n,A=u.repeat,_=u.localName;switch(u.oneof&&(N=N[u.oneof]).oneofKind!==_&&(N=n[u.oneof]={oneofKind:_}),u.kind){case"scalar":case"enum":var o=u.kind=="enum"?ScalarType.INT32:u.T,m=u.kind=="scalar"?u.L:void 0;if(A){var S=N[_];if(s==WireType.LengthDelimited&&o!=ScalarType.STRING&&o!=ScalarType.BYTES)for(var B=e.uint32()+e.pos;e.pos<B;)S.push(this.scalar(e,o,m));else S.push(this.scalar(e,o,m))}else N[_]=this.scalar(e,o,m);break;case"message":A?(F=N[_],R=u.T().internalBinaryRead(e,e.uint32(),t),F.push(R)):N[_]=u.T().internalBinaryRead(e,e.uint32(),t,N[_]);break;case"map":var[F,R]=this.mapEntry(u,e,t);N[_][F]=R}}else{var L=t.readUnknownField;if(L=="throw")throw new Error(`Unknown field ${l} (wire type ${s}) for `+this.info.typeName);var v=e.skip(s);L!==!1&&(L===!0?UnknownFieldHandler.onRead:L)(this.info.typeName,n,l,s,v)}}}mapEntry(e,n,t){var i=n.uint32(),a=n.pos+i;let l,s;for(;n.pos<a;){var[u,o]=n.tag();switch(u){case 1:l=e.K==ScalarType.BOOL?n.bool().toString():this.scalar(n,e.K,LongType.STRING);break;case 2:switch(e.V.kind){case"scalar":s=this.scalar(n,e.V.T,e.V.L);break;case"enum":s=n.int32();break;case"message":s=e.V.T().internalBinaryRead(n,n.uint32(),t)}break;default:throw new Error(`Unknown field ${u} (wire type ${o}) in map entry for ${this.info.typeName}#`+e.name)}}if(l===void 0&&(i=reflectionScalarDefault(e.K),l=e.K==ScalarType.BOOL?i.toString():i),s===void 0)switch(e.V.kind){case"scalar":s=reflectionScalarDefault(e.V.T,e.V.L);break;case"enum":s=0;break;case"message":s=e.V.T().create()}return[l,s]}scalar(e,n,t){switch(n){case ScalarType.INT32:return e.int32();case ScalarType.STRING:return e.string();case ScalarType.BOOL:return e.bool();case ScalarType.DOUBLE:return e.double();case ScalarType.FLOAT:return e.float();case ScalarType.INT64:return reflectionLongConvert(e.int64(),t);case ScalarType.UINT64:return reflectionLongConvert(e.uint64(),t);case ScalarType.FIXED64:return reflectionLongConvert(e.fixed64(),t);case ScalarType.FIXED32:return e.fixed32();case ScalarType.BYTES:return e.bytes();case ScalarType.UINT32:return e.uint32();case ScalarType.SFIXED32:return e.sfixed32();case ScalarType.SFIXED64:return reflectionLongConvert(e.sfixed64(),t);case ScalarType.SINT32:return e.sint32();case ScalarType.SINT64:return reflectionLongConvert(e.sint64(),t)}}}class ReflectionBinaryWriter{constructor(e){this.info=e}prepare(){var e;this.fields||(e=this.info.fields?this.info.fields.concat():[],this.fields=e.sort((n,t)=>n.no-t.no))}write(e,n,t){this.prepare();for(const o of this.fields){let m,S,B=o.repeat,F=o.localName;if(o.oneof){var i=e[o.oneof];if(i.oneofKind!==F)continue;m=i[F],S=!0}else m=e[F],S=!1;switch(o.kind){case"scalar":case"enum":var a=o.kind=="enum"?ScalarType.INT32:o.T;if(B)if(assert(Array.isArray(m)),B==RepeatType.PACKED)this.packed(n,a,o.no,m);else for(const R of m)this.scalar(n,a,o.no,R,!0);else m===void 0?assert(o.opt):this.scalar(n,a,o.no,m,S||o.opt);break;case"message":if(B){assert(Array.isArray(m));for(const R of m)this.message(n,t,o.T(),o.no,R)}else this.message(n,t,o.T(),o.no,m);break;case"map":assert(typeof m=="object"&&m!==null);for(var[l,s]of Object.entries(m))this.mapEntry(n,t,o,l,s)}}var u=t.writeUnknownFields;u!==!1&&(u===!0?UnknownFieldHandler.onWrite:u)(this.info.typeName,e,n)}mapEntry(e,n,t,i,a){e.tag(t.no,WireType.LengthDelimited),e.fork();let l=i;switch(t.K){case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.UINT32:case ScalarType.SFIXED32:case ScalarType.SINT32:l=Number.parseInt(i);break;case ScalarType.BOOL:assert(i=="true"||i=="false"),l=i=="true"}switch(this.scalar(e,t.K,1,l,!0),t.V.kind){case"scalar":this.scalar(e,t.V.T,2,a,!0);break;case"enum":this.scalar(e,ScalarType.INT32,2,a,!0);break;case"message":this.message(e,n,t.V.T(),2,a)}e.join()}message(e,n,t,i,a){a!==void 0&&(t.internalBinaryWrite(a,e.tag(i,WireType.LengthDelimited).fork(),n),e.join())}scalar(e,l,t,i,a){var[l,s,u]=this.scalarInfo(l,i);u&&!a||(e.tag(t,l),e[s](i))}packed(e,n,t,i){if(i.length){assert(n!==ScalarType.BYTES&&n!==ScalarType.STRING),e.tag(t,WireType.LengthDelimited),e.fork();var[,a]=this.scalarInfo(n);for(let l=0;l<i.length;l++)e[a](i[l]);e.join()}}scalarInfo(e,n){let t=WireType.Varint,i;var a=n===void 0;let l=n===0;switch(e){case ScalarType.INT32:i="int32";break;case ScalarType.STRING:l=a||!n.length,t=WireType.LengthDelimited,i="string";break;case ScalarType.BOOL:l=n===!1,i="bool";break;case ScalarType.UINT32:i="uint32";break;case ScalarType.DOUBLE:t=WireType.Bit64,i="double";break;case ScalarType.FLOAT:t=WireType.Bit32,i="float";break;case ScalarType.INT64:l=a||PbLong.from(n).isZero(),i="int64";break;case ScalarType.UINT64:l=a||PbULong.from(n).isZero(),i="uint64";break;case ScalarType.FIXED64:l=a||PbULong.from(n).isZero(),t=WireType.Bit64,i="fixed64";break;case ScalarType.BYTES:l=a||!n.byteLength,t=WireType.LengthDelimited,i="bytes";break;case ScalarType.FIXED32:t=WireType.Bit32,i="fixed32";break;case ScalarType.SFIXED32:t=WireType.Bit32,i="sfixed32";break;case ScalarType.SFIXED64:l=a||PbLong.from(n).isZero(),t=WireType.Bit64,i="sfixed64";break;case ScalarType.SINT32:i="sint32";break;case ScalarType.SINT64:l=a||PbLong.from(n).isZero(),i="sint64"}return[t,i,a||l]}}function reflectionCreate(r){var e,n={};Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:r});for(e of r.fields){var t=e.localName;if(!e.opt)if(e.oneof)n[e.oneof]={oneofKind:void 0};else if(e.repeat)n[t]=[];else switch(e.kind){case"scalar":n[t]=reflectionScalarDefault(e.T,e.L);break;case"enum":n[t]=0;break;case"map":n[t]={}}}return n}function reflectionMergePartial(r,e,n){let t,i=n,a;for(var l of r.fields){var s=l.localName;if(l.oneof){var u=i[l.oneof];if(u?.oneofKind==null)continue;if(t=u[s],(a=e[l.oneof]).oneofKind=u.oneofKind,t==null){delete a[s];continue}}else if(t=i[s],a=e,t==null)continue;switch(l.repeat&&(a[s].length=t.length),l.kind){case"scalar":case"enum":if(l.repeat)for(let B=0;B<t.length;B++)a[s][B]=t[B];else a[s]=t;break;case"message":var o=l.T();if(l.repeat)for(let B=0;B<t.length;B++)a[s][B]=o.create(t[B]);else a[s]===void 0?a[s]=o.create(t):o.mergePartial(a[s],t);break;case"map":switch(l.V.kind){case"scalar":case"enum":Object.assign(a[s],t);break;case"message":var m,S=l.V.T();for(m of Object.keys(t))a[s][m]=S.create(t[m])}}}}const defaultsWrite$1={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},defaultsRead$1={ignoreUnknownFields:!1};function jsonReadOptions(r){return r?{...defaultsRead$1,...r}:defaultsRead$1}function jsonWriteOptions(r){return r?{...defaultsWrite$1,...r}:defaultsWrite$1}function reflectionEquals(r,e,n){if(e!==n){if(!e||!n)return!1;for(var t of r.fields){var i=t.localName,a=(t.oneof?e[t.oneof]:e)[i],l=(t.oneof?n[t.oneof]:n)[i];switch(t.kind){case"enum":case"scalar":var s=t.kind=="enum"?ScalarType.INT32:t.T;if((t.repeat?repeatedPrimitiveEq:primitiveEq)(s,a,l))break;return!1;case"map":if(t.V.kind=="message"?repeatedMsgEq(t.V.T(),objectValues(a),objectValues(l)):repeatedPrimitiveEq(t.V.kind=="enum"?ScalarType.INT32:t.V.T,objectValues(a),objectValues(l)))break;return!1;case"message":if(s=t.T(),t.repeat?repeatedMsgEq(s,a,l):s.equals(a,l))break;return!1}}}return!0}const objectValues=Object.values;function primitiveEq(r,e,n){if(e!==n){if(r!==ScalarType.BYTES)return!1;var t=e,i=n;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!=i[a])return!1}return!0}function repeatedPrimitiveEq(r,e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!primitiveEq(r,e[t],n[t]))return!1;return!0}function repeatedMsgEq(r,e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!r.equals(e[t],n[t]))return!1;return!0}const defaultsWrite={writeUnknownFields:!0,writerFactory:()=>new BinaryWriter};function binaryWriteOptions(r){return r?{...defaultsWrite,...r}:defaultsWrite}class BinaryWriter{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;var n=new Uint8Array(e);let t=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],t),t+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){var e=this.finish(),n=this.stack.pop();if(n)return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e);throw new Error("invalid state, fork stack empty")}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(assertUInt32(e);127<e;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return assertInt32(e),varint32write(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){return e=this.textEncoder.encode(e),this.uint32(e.byteLength),this.raw(e)}float(e){assertFloat32(e);var n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){var n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){assertUInt32(e);var n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){assertInt32(e);var n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return assertInt32(e),varint32write(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(i){var n=new Uint8Array(8),t=new DataView(n.buffer),i=PbLong.from(i);return t.setInt32(0,i.lo,!0),t.setInt32(4,i.hi,!0),this.raw(n)}fixed64(i){var n=new Uint8Array(8),t=new DataView(n.buffer),i=PbULong.from(i);return t.setInt32(0,i.lo,!0),t.setInt32(4,i.hi,!0),this.raw(n)}int64(e){return e=PbLong.from(e),varint64write(e.lo,e.hi,this.buf),this}sint64(n){var n=PbLong.from(n),t=n.hi>>31;return varint64write(n.lo<<1^t,(n.hi<<1|n.lo>>>31)^t,this.buf),this}uint64(e){return e=PbULong.from(e),varint64write(e.lo,e.hi,this.buf),this}}const defaultsRead={readUnknownField:!0,readerFactory:r=>new BinaryReader(r)};function binaryReadOptions(r){return r?{...defaultsRead,...r}:defaultsRead}class BinaryReader{constructor(e,n){this.varint64=varint64read,this.uint32=varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){var n=this.uint32(),e=n>>>3,n=7&n;if(e<=0||n<0||5<n)throw new Error("illegal tag: field no "+e+" wire type "+n);return[e,n]}skip(e){var n,t=this.pos;switch(e){case WireType.Varint:for(;128&this.buf[this.pos++];);break;case WireType.Bit64:this.pos+=4;case WireType.Bit32:this.pos+=4;break;case WireType.LengthDelimited:var i=this.uint32();this.pos+=i;break;case WireType.StartGroup:for(;(n=this.tag()[1])!==WireType.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){var e=this.uint32();return e>>>1^-(1&e)}int64(){return new PbLong(...this.varint64())}uint64(){return new PbULong(...this.varint64())}sint64(){var[n,t]=this.varint64(),e=-(1&n),n=(n>>>1|(1&t)<<31)^e,t=t>>>1^e;return new PbLong(n,t)}bool(){var[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new PbULong(this.sfixed32(),this.sfixed32())}sfixed64(){return new PbLong(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){var e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}class MessageType{constructor(e,n,t){this.defaultCheckDepth=16,this.typeName=e,this.fields=n.map(normalizeFieldInfo),this.options=t??{},this.refTypeCheck=new ReflectionTypeCheck(this),this.refJsonReader=new ReflectionJsonReader(this),this.refJsonWriter=new ReflectionJsonWriter(this),this.refBinReader=new ReflectionBinaryReader(this),this.refBinWriter=new ReflectionBinaryWriter(this)}create(e){var n=reflectionCreate(this);return e!==void 0&&reflectionMergePartial(this,n,e),n}clone(e){var n=this.create();return reflectionMergePartial(this,n,e),n}equals(e,n){return reflectionEquals(this,e,n)}is(e,n=this.defaultCheckDepth){return this.refTypeCheck.is(e,n,!1)}isAssignable(e,n=this.defaultCheckDepth){return this.refTypeCheck.is(e,n,!0)}mergePartial(e,n){reflectionMergePartial(this,e,n)}fromBinary(e,n){return n=binaryReadOptions(n),this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,n){return this.internalJsonRead(e,jsonReadOptions(n))}fromJsonString(e,n){return e=JSON.parse(e),this.fromJson(e,n)}toJson(e,n){return this.internalJsonWrite(e,jsonWriteOptions(n))}toJsonString(e,n){return e=this.toJson(e,n),JSON.stringify(e,null,n?.prettySpaces??0)}toBinary(e,n){return n=binaryWriteOptions(n),this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,n,t){if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`Unable to parse message ${this.typeName} from JSON ${typeofJsonValue(e)}.`);return t=t??this.create(),this.refJsonReader.read(e,t,n),t}internalJsonWrite(e,n){return this.refJsonWriter.write(e,n)}internalBinaryWrite(e,n,t){return this.refBinWriter.write(e,n,t),n}internalBinaryRead(e,n,t,i){return i=i??this.create(),this.refBinReader.read(e,i,t,n),i}}class FrsPageResIdl$Type extends MessageType{constructor(){super("FrsPageResIdl",[{no:2,name:"data",kind:"message",T:()=>FrsPageDataRes}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)a.data=FrsPageDataRes.internalBinaryRead(e,e.uint32(),t,a.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.data&&FrsPageDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const FrsPageResIdl=new FrsPageResIdl$Type;class FrsPageDataRes$Type extends MessageType{constructor(){super("FrsPageDataRes",[{no:2,name:"forum",kind:"message",T:()=>ForumInfo},{no:7,name:"thread_list",kind:"message",repeat:1,T:()=>ThreadInfo},{no:23,name:"activityhead",kind:"message",T:()=>ActivityHead},{no:116,name:"live_fuse_forum",kind:"message",repeat:1,T:()=>LiveFuseForumData}])}create(e){var n={threadList:[],liveFuseForum:[]};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 2:a.forum=ForumInfo.internalBinaryRead(e,e.uint32(),t,a.forum);break;case 7:a.threadList.push(ThreadInfo.internalBinaryRead(e,e.uint32(),t));break;case 23:a.activityhead=ActivityHead.internalBinaryRead(e,e.uint32(),t,a.activityhead);break;case 116:a.liveFuseForum.push(LiveFuseForumData.internalBinaryRead(e,e.uint32(),t));break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){e.forum&&ForumInfo.internalBinaryWrite(e.forum,n.tag(2,WireType.LengthDelimited).fork(),t).join();for(let a=0;a<e.threadList.length;a++)ThreadInfo.internalBinaryWrite(e.threadList[a],n.tag(7,WireType.LengthDelimited).fork(),t).join();e.activityhead&&ActivityHead.internalBinaryWrite(e.activityhead,n.tag(23,WireType.LengthDelimited).fork(),t).join();for(let a=0;a<e.liveFuseForum.length;a++)LiveFuseForumData.internalBinaryWrite(e.liveFuseForum[a],n.tag(116,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}const FrsPageDataRes=new FrsPageDataRes$Type;class ForumInfo$Type extends MessageType{constructor(){super("ForumInfo",[{no:33,name:"banner_list",kind:"message",T:()=>BannerList}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===33)a.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,a.bannerList);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(33,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const ForumInfo=new ForumInfo$Type;class ActivityHead$Type extends MessageType{constructor(){super("ActivityHead",[{no:13,name:"is_ad",kind:"scalar",T:8}])}create(e){var n={isAd:!1};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===13)a.isAd=e.bool();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.isAd!==!1&&n.tag(13,WireType.Varint).bool(e.isAd),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const ActivityHead=new ActivityHead$Type;class LiveFuseForumData$Type extends MessageType{constructor(){super("LiveFuseForumData",[{no:1,name:"online_users",kind:"scalar",T:9}])}create(e){var n={onlineUsers:""};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)a.onlineUsers=e.string();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.onlineUsers!==""&&n.tag(1,WireType.LengthDelimited).string(e.onlineUsers),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const LiveFuseForumData=new LiveFuseForumData$Type;class PbPageResIdl$Type extends MessageType{constructor(){super("PbPageResIdl",[{no:2,name:"data",kind:"message",T:()=>PbPageDataRes}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)a.data=PbPageDataRes.internalBinaryRead(e,e.uint32(),t,a.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.data&&PbPageDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const PbPageResIdl=new PbPageResIdl$Type;class PbPageDataRes$Type extends MessageType{constructor(){super("PbPageDataRes",[{no:12,name:"banner_list",kind:"message",T:()=>BannerList},{no:55,name:"recom_ala_info",kind:"message",T:()=>AlaLiveInfo},{no:6,name:"post_list",kind:"message",repeat:1,T:()=>Post}])}create(e){var n={postList:[]};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 12:a.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,a.bannerList);break;case 55:a.recomAlaInfo=AlaLiveInfo.internalBinaryRead(e,e.uint32(),t,a.recomAlaInfo);break;case 6:a.postList.push(Post.internalBinaryRead(e,e.uint32(),t));break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(12,WireType.LengthDelimited).fork(),t).join(),e.recomAlaInfo&&AlaLiveInfo.internalBinaryWrite(e.recomAlaInfo,n.tag(55,WireType.LengthDelimited).fork(),t).join();for(let a=0;a<e.postList.length;a++)Post.internalBinaryWrite(e.postList[a],n.tag(6,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}const PbPageDataRes=new PbPageDataRes$Type;class PersonalizedResIdl$Type extends MessageType{constructor(){super("PersonalizedResIdl",[{no:2,name:"data",kind:"message",T:()=>PersonalizedDataRes}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)a.data=PersonalizedDataRes.internalBinaryRead(e,e.uint32(),t,a.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.data&&PersonalizedDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const PersonalizedResIdl=new PersonalizedResIdl$Type;class PersonalizedDataRes$Type extends MessageType{constructor(){super("PersonalizedDataRes",[{no:9,name:"banner_list",kind:"message",T:()=>BannerList},{no:2,name:"thread_list",kind:"message",repeat:1,T:()=>ThreadInfo},{no:17,name:"live_answer",kind:"message",T:()=>LiveAnswer}])}create(e){var n={threadList:[]};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 9:a.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,a.bannerList);break;case 2:a.threadList.push(ThreadInfo.internalBinaryRead(e,e.uint32(),t));break;case 17:a.liveAnswer=LiveAnswer.internalBinaryRead(e,e.uint32(),t,a.liveAnswer);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(9,WireType.LengthDelimited).fork(),t).join();for(let a=0;a<e.threadList.length;a++)ThreadInfo.internalBinaryWrite(e.threadList[a],n.tag(2,WireType.LengthDelimited).fork(),t).join();e.liveAnswer&&LiveAnswer.internalBinaryWrite(e.liveAnswer,n.tag(17,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}const PersonalizedDataRes=new PersonalizedDataRes$Type;class LiveAnswer$Type extends MessageType{constructor(){super("LiveAnswer",[{no:1,name:"banner_url",kind:"scalar",T:9}])}create(e){var n={bannerUrl:""};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)a.bannerUrl=e.string();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.bannerUrl!==""&&n.tag(1,WireType.LengthDelimited).string(e.bannerUrl),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const LiveAnswer=new LiveAnswer$Type;class ThreadListResIdl$Type extends MessageType{constructor(){super("ThreadListResIdl",[{no:2,name:"data",kind:"message",T:()=>ThreadListDataRes}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)a.data=ThreadListDataRes.internalBinaryRead(e,e.uint32(),t,a.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.data&&ThreadListDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const ThreadListResIdl=new ThreadListResIdl$Type;class ThreadListDataRes$Type extends MessageType{constructor(){super("ThreadListDataRes",[{no:3,name:"banner_list",kind:"message",T:()=>BannerList}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===3)a.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,a.bannerList);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(3,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const ThreadListDataRes=new ThreadListDataRes$Type;class GeneralTabListResIdl$Type extends MessageType{constructor(){super("GeneralTabListResIdl",[{no:2,name:"data",kind:"message",T:()=>GeneralTabListDataRes}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)a.data=GeneralTabListDataRes.internalBinaryRead(e,e.uint32(),t,a.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.data&&GeneralTabListDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const GeneralTabListResIdl=new GeneralTabListResIdl$Type;class GeneralTabListDataRes$Type extends MessageType{constructor(){super("GeneralTabListDataRes",[{no:10,name:"app_list",kind:"message",repeat:1,T:()=>App}])}create(e){var n={appList:[]};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===10)a.appList.push(App.internalBinaryRead(e,e.uint32(),t));else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){for(let a=0;a<e.appList.length;a++)App.internalBinaryWrite(e.appList[a],n.tag(10,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}const GeneralTabListDataRes=new GeneralTabListDataRes$Type;class BannerList$Type extends MessageType{constructor(){super("BannerList",[{no:1,name:"app",kind:"message",repeat:1,T:()=>App},{no:5,name:"pb_banner_ad",kind:"message",T:()=>App}])}create(e){var n={app:[]};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 1:a.app.push(App.internalBinaryRead(e,e.uint32(),t));break;case 5:a.pbBannerAd=App.internalBinaryRead(e,e.uint32(),t,a.pbBannerAd);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){for(let a=0;a<e.app.length;a++)App.internalBinaryWrite(e.app[a],n.tag(1,WireType.LengthDelimited).fork(),t).join();e.pbBannerAd&&App.internalBinaryWrite(e.pbBannerAd,n.tag(5,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}const BannerList=new BannerList$Type;class App$Type extends MessageType{constructor(){super("App",[{no:30,name:"goods_info",kind:"message",repeat:1,T:()=>GoodsInfo}])}create(e){var n={goodsInfo:[]};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===30)a.goodsInfo.push(GoodsInfo.internalBinaryRead(e,e.uint32(),t));else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){for(let a=0;a<e.goodsInfo.length;a++)GoodsInfo.internalBinaryWrite(e.goodsInfo[a],n.tag(30,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}const App=new App$Type;class GoodsInfo$Type extends MessageType{constructor(){super("GoodsInfo",[{no:1,name:"id",kind:"scalar",T:5}])}create(e){var n={id:0};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)a.id=e.int32();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.id!==0&&n.tag(1,WireType.Varint).int32(e.id),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const GoodsInfo=new GoodsInfo$Type;class ThreadInfo$Type extends MessageType{constructor(){super("ThreadInfo",[{no:113,name:"ala_info",kind:"message",T:()=>AlaLiveInfo}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===113)a.alaInfo=AlaLiveInfo.internalBinaryRead(e,e.uint32(),t,a.alaInfo);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.alaInfo&&AlaLiveInfo.internalBinaryWrite(e.alaInfo,n.tag(113,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const ThreadInfo=new ThreadInfo$Type;class AlaLiveInfo$Type extends MessageType{constructor(){super("AlaLiveInfo",[{no:1,name:"live_id",kind:"scalar",T:4,L:0}])}create(e){var n={liveId:0n};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)a.liveId=e.uint64().toBigInt();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.liveId!==0n&&n.tag(1,WireType.Varint).uint64(e.liveId),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const AlaLiveInfo=new AlaLiveInfo$Type;class Post$Type extends MessageType{constructor(){super("Post",[{no:54,name:"outer_item",kind:"message",T:()=>Item},{no:67,name:"novel_recom_card",kind:"message",T:()=>NovelRecomCard}])}create(e){var n={};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 54:a.outerItem=Item.internalBinaryRead(e,e.uint32(),t,a.outerItem);break;case 67:a.novelRecomCard=NovelRecomCard.internalBinaryRead(e,e.uint32(),t,a.novelRecomCard);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.outerItem&&Item.internalBinaryWrite(e.outerItem,n.tag(54,WireType.LengthDelimited).fork(),t).join(),e.novelRecomCard&&NovelRecomCard.internalBinaryWrite(e.novelRecomCard,n.tag(67,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const Post=new Post$Type;class Item$Type extends MessageType{constructor(){super("Item",[{no:1,name:"item_id",kind:"scalar",T:3,L:0}])}create(e){var n={itemId:0n};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)a.itemId=e.int64().toBigInt();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.itemId!==0n&&n.tag(1,WireType.Varint).int64(e.itemId),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const Item=new Item$Type;class NovelRecomCard$Type extends MessageType{constructor(){super("NovelRecomCard",[{no:1,name:"icon_url",kind:"scalar",T:9}])}create(e){var n={iconUrl:""};return globalThis.Object.defineProperty(n,MESSAGE_TYPE,{enumerable:!1,value:this}),e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var a=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)a.iconUrl=e.string();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,a,s,u,m)}}return a}internalBinaryWrite(e,n,t){return e.iconUrl!==""&&n.tag(1,WireType.LengthDelimited).string(e.iconUrl),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}const NovelRecomCard=new NovelRecomCard$Type,resStatus=$response.status?$response.status:$response.statusCode;if(resStatus!==200)$done({});else{const r=$request.url,e=typeof $task<"u",n=e?new Uint8Array($response.bodyBytes):$response.body;let t;if(r.includes("frs/page")){const i=FrsPageResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(i.data.forum?.bannerList?.app),i.data.threadList=removeLive(i.data.threadList),i.data.liveFuseForum?.length&&(i.data.liveFuseForum=[]),i.data.activityhead?.isAd&&(i.data.activityhead=null),t=FrsPageResIdl.toBinary(i)}else if(r.includes("pb/page")){const i=PbPageResIdl.fromBinary(n,{readUnknownField:!0});if(removeGoodsInfo(i.data.bannerList?.app),i.data.bannerList?.pbBannerAd?.goodsInfo?.length&&(i.data.bannerList.pbBannerAd.goodsInfo=[]),i.data.recomAlaInfo?.liveId&&(i.data.recomAlaInfo=null),i.data.postList?.length)for(const l of i.data.postList)l.outerItem&&(l.outerItem=null),l.novelRecomCard&&(l.novelRecomCard=null);t=PbPageResIdl.toBinary(i)}else if(r.includes("excellent/personalized")){const i=PersonalizedResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(i.data.bannerList?.app),i.data.threadList=removeLive(i.data.threadList),i.data.liveAnswer&&(i.data.liveAnswer=null),t=PersonalizedResIdl.toBinary(i)}else if(r.includes("frs/threadlist")){const i=ThreadListResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(i.data.bannerList?.app),t=ThreadListResIdl.toBinary(i)}else if(r.includes("frs/generalTabList")){const i=GeneralTabListResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(i.data.appList),t=GeneralTabListResIdl.toBinary(i)}else $notification.post("\u8D34\u5427proto\u53BB\u5E7F\u544A\u811A\u672C\u9519\u8BEF","url\u5339\u914D\u9519\u8BEF:",r);e?$done({bodyBytes:t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset)}):$done({body:t})}function removeGoodsInfo(r){if(r?.length){let e=0;r.forEach(n=>{n.goodsInfo?.length&&(e++,n.goodsInfo=[])})}}function removeLive(r){let e=r;const n=r?.length;return n&&(e=r.filter(t=>!t.alaInfo),e.length),e}
