// 2025/11/24 15:18:43 https://raw.githubusercontent.com/ElementRef/AboutConfig/main/script/app2smile.tieba.proto.js
(function(a){"use strict";function e(f,p,d){return p<=f&&f<=d}typeof module<"u"&&module.exports&&!a["encoding-indexes"]&&(a["encoding-indexes"]=require("./encoding-indexes.js")["encoding-indexes"]);var n=Math.floor;function t(f){if(f===void 0)return{};if(f===Object(f))return f;throw TypeError("Could not convert argument to dictionary")}function i(f){return 0<=f&&f<=127}var r=i,l=-1;function s(f){this.tokens=[].slice.call(f),this.tokens.reverse()}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():l},prepend:function(f){if(Array.isArray(f))for(var p=f;p.length;)this.tokens.push(p.pop());else this.tokens.push(f)},push:function(f){if(Array.isArray(f))for(var p=f;p.length;)this.tokens.unshift(p.shift());else this.tokens.unshift(f)}};var u=-1;function o(f,p){if(f)throw TypeError("Decoder error");return p||65533}function m(f){throw TypeError("The code point "+f+" could not be encoded.")}function U(f){return f=String(f).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(R,f)?R[f]:null}var I,F,A=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],R={},k=(A.forEach(function(f){f.encodings.forEach(function(p){p.labels.forEach(function(d){R[d]=p})})}),{}),T={};function j(f,p){return p&&p[f]||null}function _(f,p){return p=p.indexOf(f),p===-1?null:p}function D(f){if("encoding-indexes"in a)return a["encoding-indexes"][f];throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?")}var P="utf-8";function E(f,p){if(!(this instanceof E))throw TypeError("Called as a function. Did you forget 'new'?");f=f!==void 0?String(f):P,p=t(p),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var d=U(f);if(d===null||d.name==="replacement")throw RangeError("Unknown encoding: "+f);if(T[d.name])return(f=this)._encoding=d,p.fatal&&(f._error_mode="fatal"),p.ignoreBOM&&(f._ignoreBOM=!0),Object.defineProperty||(this.encoding=f._encoding.name.toLowerCase(),this.fatal=f._error_mode==="fatal",this.ignoreBOM=f._ignoreBOM),f;throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?")}function x(f,p){if(!(this instanceof x))throw TypeError("Called as a function. Did you forget 'new'?");if(p=t(p),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=p.fatal?"fatal":"replacement",p.NONSTANDARD_allowLegacyEncoding){if(p=U(f=f!==void 0?String(f):P),p===null||p.name==="replacement")throw RangeError("Unknown encoding: "+f);if(!k[p.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=p}else this._encoding=U("utf-8"),f!==void 0&&"console"in a;return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function J(f){var p=f.fatal,d=0,h=0,c=0,y=128,g=191;this.handler=function(b,B){if(B===l&&c!==0)return c=0,o(p);if(B===l)return u;if(c===0){if(e(B,0,127))return B;if(e(B,194,223))c=1,d=31&B;else if(e(B,224,239))B===224&&(y=160),B===237&&(g=159),c=2,d=15&B;else{if(!e(B,240,244))return o(p);B===240&&(y=144),B===244&&(g=143),c=3,d=7&B}return null}var v;return e(B,y,g)?(y=128,g=191,d=d<<6|63&B,(h+=1)!==c?null:(v=d,d=c=h=0,v)):(d=c=h=0,y=128,g=191,b.prepend(B),o(p))}}function X(f){f.fatal,this.handler=function(p,d){if(d===l)return u;if(r(d))return d;e(d,128,2047)?(h=1,c=192):e(d,2048,65535)?(h=2,c=224):e(d,65536,1114111)&&(h=3,c=240);for(var h,c,y=[(d>>6*h)+c];0<h;)y.push(128|63&d>>6*(h-1)),--h;return y}}function Z(f,p){var d=p.fatal;this.handler=function(h,c){return c===l?u:i(c)?c:(c=f[c-128])===null?o(d):c}}function Y(f,p){p.fatal,this.handler=function(d,h){var c;return h===l?u:r(h)?h:((c=_(h,f))===null&&m(h),c+128)}}function C(f){var p=f.fatal,d=0,h=0,c=0;this.handler=function(y,g){var b,B,v;return g===l&&d===0&&h===0&&c===0?u:(g!==l||d===0&&h===0&&c===0||(c=h=d=0,o(p)),c!==0?(b=null,e(g,48,57)&&(b=(function(L){if(39419<L&&L<189e3||1237575<L)return null;if(L===7457)return 59335;for(var O=0,N=0,W=D("gb18030-ranges"),w=0;w<W.length;++w){var $=W[w];if(!($[0]<=L))break;O=$[0],N=$[1]}return N+L-O})(10*(126*(10*(d-129)+h-48)+c-129)+g-48)),B=[h,c,g],c=h=d=0,b===null?(y.prepend(B),o(p)):b):h!==0?e(g,129,254)?(c=g,null):(y.prepend([h,g]),h=d=0,o(p)):d!==0?e(g,48,57)?(h=g,null):(B=d,d=0,(v=null)===(b=(v=e(g,64,126)||e(g,128,254)?190*(B-129)+(g-(g<127?64:65)):v)===null?null:j(v,D("gb18030")))&&i(g)&&y.prepend(g),b===null?o(p):b):i(g)?g:g===128?8364:e(g,129,254)?(d=g,null):o(p))}}function M(f,p){f.fatal,this.handler=function(d,h){var c,y;return h===l?u:r(h)?h:h===58853?m(h):p&&h===8364?128:(c=_(h,D("gb18030")))!==null?(y=c%190,[n(c/190)+129,y+(y<63?64:65)]):p?m(h):(c=(function(g){if(g===59335)return 7457;for(var b=0,B=0,v=D("gb18030-ranges"),L=0;L<v.length;++L){var O=v[L];if(!(O[1]<=g))break;b=O[1],B=O[0]}return B+g-b})(h),[(y=n(c/10/126/10))+129,(h=n((c-=10*y*126*10)/10/126))+48,(y=n((c-=10*h*126)/10))+129,48+(c-10*y)])}}function q(f){var p=f.fatal,d=0;this.handler=function(h,c){if(c===l&&d!==0)return d=0,o(p);if(c===l&&d===0)return u;if(d===0)return i(c)?c:e(c,129,254)?(d=c,null):o(p);var y=d,g=null;switch(d=0,g=e(c,64,126)||e(c,161,254)?157*(y-129)+(c-(c<127?64:98)):g){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}return y=g===null?null:j(g,D("big5")),y===null&&i(c)&&h.prepend(c),y===null?o(p):y}}function z(f){f.fatal,this.handler=function(p,d){var h,c;return d===l?u:r(d)?d:(h=d,c=F=F||D("big5").map(function(y,g){return g<5024?null:y}),(h=h===9552||h===9566||h===9569||h===9578||h===21313||h===21317?c.lastIndexOf(h):_(h,c))===null||(c=n(h/157)+129)<161?m(d):[c,(d=h%157)+(d<63?64:98)])}}function H(f){var p=f.fatal,d=!1,h=0;this.handler=function(c,y){var g,b;return y===l&&h!==0?(h=0,o(p)):y===l&&h===0?u:h===142&&e(y,161,223)?(h=0,65216+y):h===143&&e(y,161,254)?(d=!0,h=y,null):h!==0?(g=h,h=0,b=null,e(g,161,254)&&e(y,161,254)&&(b=j(94*(g-161)+(y-161),D(d?"jis0212":"jis0208"))),d=!1,e(y,161,254)||c.prepend(y),b===null?o(p):b):i(y)?y:y===142||y===143||e(y,161,254)?(h=y,null):o(p)}}function Q(f){f.fatal,this.handler=function(p,d){var h;return d===l?u:r(d)?d:d===165?92:d===8254?126:e(d,65377,65439)?[142,d-65377+161]:(h=_(d=d===8722?65293:d,D("jis0208")))===null?m(d):[n(h/94)+161,h%94+161]}}function ee(f){var p=f.fatal,d=0,h=1,c=2,y=3,g=4,b=5,B=6,v=d,L=d,O=0,N=!1;this.handler=function(W,w){switch(v){default:case d:return w===27?(v=b,null):e(w,0,127)&&w!==14&&w!==15&&w!==27?(N=!1,w):w===l?u:(N=!1,o(p));case h:return w===27?(v=b,null):w===92?(N=!1,165):w===126?(N=!1,8254):e(w,0,127)&&w!==14&&w!==15&&w!==27&&w!==92&&w!==126?(N=!1,w):w===l?u:(N=!1,o(p));case c:return w===27?(v=b,null):e(w,33,95)?(N=!1,65344+w):w===l?u:(N=!1,o(p));case y:return w===27?(v=b,null):e(w,33,126)?(N=!1,O=w,v=g,null):w===l?u:(N=!1,o(p));case g:if(w===27)v=b;else{if(e(w,33,126))return v=y,($=j(94*(O-33)+w-33,D("jis0208")))===null?o(p):$;w===l?(v=y,W.prepend(w)):v=y}return o(p);case b:return w===36||w===40?(O=w,v=B,null):(W.prepend(w),N=!1,v=L,o(p));case B:var $=O,S=(O=0,null);return $===40&&w===66&&(S=d),$===40&&w===74&&(S=h),$===40&&w===73&&(S=c),(S=$!==36||w!==64&&w!==66?S:y)!==null?(v=S,S=N,N=!0,S?o(p):null):(W.prepend([$,w]),N=!1,v=L,o(p))}}}function ne(f){f.fatal;var p=0,d=1,h=2,c=p;this.handler=function(y,g){if(g===l&&c!==p)return y.prepend(g),c=p,[27,40,66];if(g===l&&c===p)return u;if(!(c!==p&&c!==d||g!==14&&g!==15&&g!==27))return m(65533);if(c===p&&r(g))return g;if(c===d&&(r(g)&&g!==92&&g!==126||g==165||g==8254)){if(r(g))return g;if(g===165)return 92;if(g===8254)return 126}var b;return r(g)&&c!==p?(y.prepend(g),c=p,[27,40,66]):g!==165&&g!==8254||c===d?(b=_(g=g===8722?65293:g,D("jis0208")))===null?m(g):c!==h?(y.prepend(g),c=h,[27,36,66]):[n(b/94)+33,b%94+33]:(y.prepend(g),c=d,[27,40,74])}}function te(f){var p=f.fatal,d=0;this.handler=function(h,c){var y,g;return c===l&&d!==0?(d=0,o(p)):c===l&&d===0?u:d!==0?(g=d,y=null,d=0,(e(c,64,126)||e(c,128,252))&&(y=188*(g-(g<160?129:193))+c-(c<127?64:65)),e(y,8836,10715)?48508+y:((g=y===null?null:j(y,D("jis0208")))===null&&i(c)&&h.prepend(c),g===null?o(p):g)):i(c)||c===128?c:e(c,161,223)?65216+c:e(c,129,159)||e(c,224,252)?(d=c,null):o(p)}}function re(f){f.fatal,this.handler=function(p,d){var h;return d===l?u:r(d)||d===128?d:d===165?92:d===8254?126:e(d,65377,65439)?d-65377+161:(h=d=d===8722?65293:d,(h=(I=I||D("jis0208").map(function(c,y){return e(y,8272,8835)?null:c})).indexOf(h))===null?m(d):[(d=n(h/188))+(d<31?129:193),(d=h%188)+(d<63?64:65)])}}function ie(f){var p=f.fatal,d=0;this.handler=function(h,c){var y,g;return c===l&&d!==0?(d=0,o(p)):c===l&&d===0?u:d!==0?(g=d,d=0,g=(y=null)===(y=e(c,65,254)?190*(g-129)+(c-65):y)?null:j(y,D("euc-kr")),y===null&&i(c)&&h.prepend(c),g===null?o(p):g):i(c)?c:e(c,129,254)?(d=c,null):o(p)}}function ae(f){f.fatal,this.handler=function(p,d){var h;return d===l?u:r(d)?d:(h=_(d,D("euc-kr")))===null?m(d):[n(h/190)+129,h%190+65]}}function V(h,p){var d=h>>8,h=255&h;return p?[d,h]:[h,d]}function G(f,p){var d=p.fatal,h=null,c=null;this.handler=function(y,g){var b;return g!==l||h===null&&c===null?g===l&&h===null&&c===null?u:h===null?(h=g,null):(g=f?(h<<8)+g:(g<<8)+h,(h=null)!==c?(b=c,c=null,e(g,56320,57343)?65536+1024*(b-55296)+(g-56320):(y.prepend(V(g,f)),o(d))):e(g,55296,56319)?(c=g,null):e(g,56320,57343)?o(d):g):o(d)}}function K(f,p){p.fatal,this.handler=function(d,h){var c;return h===l?u:e(h,0,65535)?V(h,f):(c=V(55296+(h-65536>>10),f),h=V(56320+(h-65536&1023),f),c.concat(h))}}function se(f){f.fatal,this.handler=function(p,d){return d===l?u:i(d)?d:63360+d-128}}function oe(f){f.fatal,this.handler=function(p,d){return d===l?u:r(d)?d:e(d,63360,63487)?d-63360+128:m(d)}}Object.defineProperty&&(Object.defineProperty(E.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(E.prototype,"fatal",{get:function(){return this._error_mode==="fatal"}}),Object.defineProperty(E.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),E.prototype.decode=function(f,p){f=typeof f=="object"&&f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="object"&&"buffer"in f&&f.buffer instanceof ArrayBuffer?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(0),p=t(p),this._do_not_flush||(this._decoder=T[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=!!p.stream;for(var d,h=new s(f),c=[];;){var y=h.read();if(y===l||(d=this._decoder.handler(h,y))===u)break;d!==null&&(Array.isArray(d)?c.push.apply(c,d):c.push(d))}if(!this._do_not_flush){for(;(d=this._decoder.handler(h,h.read()))!==u&&(d!==null&&(Array.isArray(d)?c.push.apply(c,d):c.push(d)),!h.endOfStream()););this._decoder=null}return function(g){b=["UTF-8","UTF-16LE","UTF-16BE"],B=this._encoding.name,b.indexOf(B)===-1||this._ignoreBOM||this._BOMseen||(0<g.length&&g[0]===65279?(this._BOMseen=!0,g.shift()):0<g.length&&(this._BOMseen=!0));for(var b,B,v=g,L="",O=0;O<v.length;++O){var N=v[O];N<=65535?L+=String.fromCharCode(N):(N-=65536,L+=String.fromCharCode(55296+(N>>10),56320+(1023&N)))}return L}.call(this,c)},Object.defineProperty&&Object.defineProperty(x.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),x.prototype.encode=function(f,p){f=f===void 0?"":String(f),p=t(p),this._do_not_flush||(this._encoder=k[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=!!p.stream;for(var d,h=new s((function(g){for(var b=String(g),B=b.length,v=0,L=[];v<B;){var O,N=b.charCodeAt(v);N<55296||57343<N?L.push(N):56320<=N&&N<=57343?L.push(65533):55296<=N&&N<=56319&&(v!==B-1&&56320<=(O=b.charCodeAt(v+1))&&O<=57343?(L.push(65536+((1023&N)<<10)+(1023&O)),v+=1):L.push(65533)),v+=1}return L})(f)),c=[];;){var y=h.read();if(y===l||(d=this._encoder.handler(h,y))===u)break;Array.isArray(d)?c.push.apply(c,d):c.push(d)}if(!this._do_not_flush){for(;(d=this._encoder.handler(h,h.read()))!==u;)Array.isArray(d)?c.push.apply(c,d):c.push(d);this._encoder=null}return new Uint8Array(c)},k["UTF-8"]=function(f){return new X(f)},T["UTF-8"]=function(f){return new J(f)},"encoding-indexes"in a&&A.forEach(function(f){f.heading==="Legacy single-byte encodings"&&f.encodings.forEach(function(d){var d=d.name,h=D(d.toLowerCase());T[d]=function(c){return new Z(h,c)},k[d]=function(c){return new Y(h,c)}})}),T.GBK=function(f){return new C(f)},k.GBK=function(f){return new M(f,!0)},k.gb18030=function(f){return new M(f)},T.gb18030=function(f){return new C(f)},k.Big5=function(f){return new z(f)},T.Big5=function(f){return new q(f)},k["EUC-JP"]=function(f){return new Q(f)},T["EUC-JP"]=function(f){return new H(f)},k["ISO-2022-JP"]=function(f){return new ne(f)},T["ISO-2022-JP"]=function(f){return new ee(f)},k.Shift_JIS=function(f){return new re(f)},T.Shift_JIS=function(f){return new te(f)},k["EUC-KR"]=function(f){return new ae(f)},T["EUC-KR"]=function(f){return new ie(f)},k["UTF-16BE"]=function(f){return new K(!0,f)},T["UTF-16BE"]=function(f){return new G(!0,f)},k["UTF-16LE"]=function(f){return new K(!1,f)},T["UTF-16LE"]=function(f){return new G(!1,f)},k["x-user-defined"]=function(f){return new oe(f)},T["x-user-defined"]=function(f){return new se(f)},a.TextEncoder||(a.TextEncoder=x),a.TextDecoder||(a.TextDecoder=E),typeof module<"u"&&module.exports&&(module.exports={TextEncoder:a.TextEncoder,TextDecoder:a.TextDecoder,EncodingIndexes:a["encoding-indexes"]})})(this||{});(a=>{a.symbol=Symbol.for("protobuf-ts/unknown"),a.onRead=(n,t,i,r,l)=>{(e(t)?t[a.symbol]:t[a.symbol]=[]).push({no:i,wireType:r,data:l})},a.onWrite=(n,t,i)=>{for(var{no:r,wireType:l,data:s}of a.list(t))i.tag(r,l).raw(s)},a.list=(n,t)=>e(n)?(n=n[a.symbol],t?n.filter(i=>i.no==t):n):[],a.last=(n,t)=>a.list(n,t).slice(-1)[0];let e=n=>n&&Array.isArray(n[a.symbol])})(UnknownFieldHandler=UnknownFieldHandler||{});var UnknownFieldHandler,WireType=(a=>(a[a.Varint=0]="Varint",a[a.Bit64=1]="Bit64",a[a.LengthDelimited=2]="LengthDelimited",a[a.StartGroup=3]="StartGroup",a[a.EndGroup=4]="EndGroup",a[a.Bit32=5]="Bit32",a))(WireType||{});let MESSAGE_TYPE=Symbol.for("protobuf-ts/message-type");function lowerCamelCase(a){let e=!1;var n=[];for(let i=0;i<a.length;i++){var t=a.charAt(i);t=="_"?e=!0:/\d/.test(t)?(n.push(t),e=!0):e?(n.push(t.toUpperCase()),e=!1):i==0?n.push(t.toLowerCase()):n.push(t)}return n.join("")}var ScalarType=(a=>(a[a.DOUBLE=1]="DOUBLE",a[a.FLOAT=2]="FLOAT",a[a.INT64=3]="INT64",a[a.UINT64=4]="UINT64",a[a.INT32=5]="INT32",a[a.FIXED64=6]="FIXED64",a[a.FIXED32=7]="FIXED32",a[a.BOOL=8]="BOOL",a[a.STRING=9]="STRING",a[a.BYTES=12]="BYTES",a[a.UINT32=13]="UINT32",a[a.SFIXED32=15]="SFIXED32",a[a.SFIXED64=16]="SFIXED64",a[a.SINT32=17]="SINT32",a[a.SINT64=18]="SINT64",a))(ScalarType||{}),LongType=(a=>(a[a.BIGINT=0]="BIGINT",a[a.STRING=1]="STRING",a[a.NUMBER=2]="NUMBER",a))(LongType||{}),RepeatType=(a=>(a[a.NO=0]="NO",a[a.PACKED=1]="PACKED",a[a.UNPACKED=2]="UNPACKED",a))(RepeatType||{});function normalizeFieldInfo(a){var e;return a.localName=(e=a.localName)!=null?e:lowerCamelCase(a.name),a.jsonName=(e=a.jsonName)!=null?e:lowerCamelCase(a.name),a.repeat=(e=a.repeat)!=null?e:0,a.opt=(e=a.opt)!=null?e:!a.repeat&&!a.oneof&&a.kind=="message",a}function isOneofGroup(a){if(typeof a!="object"||a===null||!a.hasOwnProperty("oneofKind"))return!1;switch(typeof a.oneofKind){case"string":return a[a.oneofKind]===void 0?!1:Object.keys(a).length==2;case"undefined":return Object.keys(a).length==1;default:return!1}}class ReflectionTypeCheck{constructor(e){this.fields=(e=e.fields)!=null?e:[]}prepare(){if(!this.data){var e,n=[],t=[],i=[];for(e of this.fields)if(e.oneof)i.includes(e.oneof)||(i.push(e.oneof),n.push(e.oneof),t.push(e.oneof));else switch(t.push(e.localName),e.kind){case"scalar":case"enum":e.opt&&!e.repeat||n.push(e.localName);break;case"message":e.repeat&&n.push(e.localName);break;case"map":n.push(e.localName)}this.data={req:n,known:t,oneofs:Object.values(i)}}}is(e,n,t=!1){if(!(n<0)){if(e==null||typeof e!="object")return!1;this.prepare();let l=Object.keys(e),s=this.data;if(l.length<s.req.length||s.req.some(u=>!l.includes(u))||!t&&l.some(u=>!s.known.includes(u)))return!1;if(!(n<1)){for(var i of s.oneofs){let u=e[i];if(!isOneofGroup(u)||u.oneofKind!==void 0&&(i=this.fields.find(o=>o.localName===u.oneofKind),!i||!this.field(u[u.oneofKind],i,t,n)))return!1}for(var r of this.fields)if(r.oneof===void 0&&!this.field(e[r.localName],r,t,n))return!1}}return!0}field(e,n,t,i){var r=n.repeat;switch(n.kind){case"scalar":return e===void 0?n.opt:r?this.scalars(e,n.T,i,n.L):this.scalar(e,n.T,n.L);case"enum":return e===void 0?n.opt:r?this.scalars(e,ScalarType.INT32,i):this.scalar(e,ScalarType.INT32);case"message":return e===void 0?!0:r?this.messages(e,n.T(),t,i):this.message(e,n.T(),t,i);case"map":if(typeof e!="object"||e===null)return!1;if(i<2)return!0;if(!this.mapKeys(e,n.K,i))return!1;switch(n.V.kind){case"scalar":return this.scalars(Object.values(e),n.V.T,i,n.V.L);case"enum":return this.scalars(Object.values(e),ScalarType.INT32,i);case"message":return this.messages(Object.values(e),n.V.T(),t,i)}}return!0}message(e,n,t,i){return t?n.isAssignable(e,i):n.is(e,i)}messages(e,n,t,i){if(!Array.isArray(e))return!1;if(!(i<2)){if(t){for(let r=0;r<e.length&&r<i;r++)if(!n.isAssignable(e[r],i-1))return!1}else for(let r=0;r<e.length&&r<i;r++)if(!n.is(e[r],i-1))return!1}return!0}scalar(e,n,t){var i=typeof e;switch(n){case ScalarType.UINT64:case ScalarType.FIXED64:case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:switch(t){case LongType.BIGINT:return i=="bigint";case LongType.NUMBER:return i=="number"&&!isNaN(e);default:return i=="string"}case ScalarType.BOOL:return i=="boolean";case ScalarType.STRING:return i=="string";case ScalarType.BYTES:return e instanceof Uint8Array;case ScalarType.DOUBLE:case ScalarType.FLOAT:return i=="number"&&!isNaN(e);default:return i=="number"&&Number.isInteger(e)}}scalars(e,n,t,i){if(!Array.isArray(e))return!1;if(!(t<2)&&Array.isArray(e)){for(let r=0;r<e.length&&r<t;r++)if(!this.scalar(e[r],n,i))return!1}return!0}mapKeys(e,n,t){var i=Object.keys(e);switch(n){case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.UINT32:return this.scalars(i.slice(0,t).map(r=>parseInt(r)),n,t);case ScalarType.BOOL:return this.scalars(i.slice(0,t).map(r=>r=="true"||r!="false"&&r),n,t);default:return this.scalars(i,n,t,LongType.STRING)}}}function typeofJsonValue(a){var e=typeof a;if(e=="object"){if(Array.isArray(a))return"array";if(a===null)return"null"}return e}function isJsonObject(a){return a!==null&&typeof a=="object"&&!Array.isArray(a)}let encTable="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),decTable=[];for(let a=0;a<encTable.length;a++)decTable[encTable[a].charCodeAt(0)]=a;function base64decode(a){let e=3*a.length/4,n=(a[a.length-2]=="="?e-=2:a[a.length-1]=="="&&--e,new Uint8Array(e)),t=0,i=0,r,l=0;for(let s=0;s<a.length;s++){if((r=decTable[a.charCodeAt(s)])===void 0)switch(a[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:l=r,i=1;break;case 1:n[t++]=l<<2|(48&r)>>4,l=r,i=2;break;case 2:n[t++]=(15&l)<<4|(60&r)>>2,l=r,i=3;break;case 3:n[t++]=(3&l)<<6|r,i=0}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,t)}function base64encode(a){let e="",n=0,t,i=0;for(let r=0;r<a.length;r++)switch(t=a[r],n){case 0:e+=encTable[t>>2],i=(3&t)<<4,n=1;break;case 1:e+=encTable[i|t>>4],i=(15&t)<<2,n=2;break;case 2:e=(e+=encTable[i|t>>6])+encTable[63&t],n=0}return n&&(e=e+encTable[i]+"=",n==1)&&(e+="="),e}function varint64read(){let a=0,e=0;for(let r=0;r<28;r+=7){var n=this.buf[this.pos++];if(a|=(127&n)<<r,(128&n)==0)return this.assertBounds(),[a,e]}var t=this.buf[this.pos++];if(a|=(15&t)<<28,e=(112&t)>>4,(128&t)==0)return this.assertBounds(),[a,e];for(let r=3;r<=31;r+=7){var i=this.buf[this.pos++];if(e|=(127&i)<<r,(128&i)==0)return this.assertBounds(),[a,e]}throw new Error("invalid varint")}function varint64write(a,e,n){for(let o=0;o<28;o+=7){var t=a>>>o,i=!(!(t>>>7)&&e==0);if(n.push(255&(i?128|t:t)),!i)return}var r=a>>>28&15|(7&e)<<4,l=e>>3!=0;if(n.push(255&(l?128|r:r)),l){for(let o=3;o<31;o+=7){var s=e>>>o,u=!!(s>>>7);if(n.push(255&(u?128|s:s)),!u)return}n.push(e>>>31&1)}}decTable[45]=encTable.indexOf("+"),decTable[95]=encTable.indexOf("/");let TWO_PWR_32_DBL$1=4294967296;function int64fromString(a){var e=a[0]=="-";e&&(a=a.slice(1));let n=0,t=0;function i(r,l){r=Number(a.slice(r,l)),t*=1e6,(n=1e6*n+r)>=TWO_PWR_32_DBL$1&&(t+=n/TWO_PWR_32_DBL$1|0,n%=TWO_PWR_32_DBL$1)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),[e,n,t]}function int64toString(a,t){if(t>>>0<=2097151)return""+(TWO_PWR_32_DBL$1*t+(a>>>0));var n=(a>>>24|t<<8)>>>0&16777215,t=t>>16&65535;let i=(16777215&a)+6777216*n+6710656*t,r=n+8147497*t,l=2*t;function s(u,o){return u=u?String(u):"",o?"0000000".slice(u.length)+u:u}return 1e7<=i&&(r+=Math.floor(i/1e7),i%=1e7),1e7<=r&&(l+=Math.floor(r/1e7),r%=1e7),s(l,0)+s(r,l)+s(i,1)}function varint32write(a,e){if(0<=a){for(;127<a;)e.push(127&a|128),a>>>=7;e.push(a)}else{for(let n=0;n<9;n++)e.push(127&a|128),a>>=7;e.push(1)}}function varint32read(){let a=this.buf[this.pos++];var e=127&a;if((128&a)==0)return this.assertBounds(),e;if(e|=(127&(a=this.buf[this.pos++]))<<7,(128&a)==0)return this.assertBounds(),e;if(e|=(127&(a=this.buf[this.pos++]))<<14,(128&a)==0)return this.assertBounds(),e;if(e|=(127&(a=this.buf[this.pos++]))<<21,(128&a)==0)return this.assertBounds(),e;e|=(15&(a=this.buf[this.pos++]))<<28;for(let n=5;(128&a)!=0&&n<10;n++)a=this.buf[this.pos++];if((128&a)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}let BI;function detectBi(){var a=new DataView(new ArrayBuffer(8)),e=globalThis.BigInt!==void 0&&typeof a.getBigInt64=="function"&&typeof a.getBigUint64=="function"&&typeof a.setBigInt64=="function"&&typeof a.setBigUint64=="function";BI=e?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:a}:void 0}function assertBi(a){if(!a)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}detectBi();let RE_DECIMAL_STR=/^-?[0-9]+$/,TWO_PWR_32_DBL=4294967296,HALF_2_PWR_32=2147483648;class SharedPbLong{constructor(e,n){this.lo=0|e,this.hi=0|n}isZero(){return this.lo==0&&this.hi==0}toNumber(){var e=this.hi*TWO_PWR_32_DBL+(this.lo>>>0);if(Number.isSafeInteger(e))return e;throw new Error("cannot convert to safe number")}}let _PbULong=class extends SharedPbLong{static from(a){if(BI)switch(typeof a){case"string":if(a=="0")return this.ZERO;if(a=="")throw new Error("string is no integer");a=BI.C(a);case"number":if(a===0)return this.ZERO;a=BI.C(a);case"bigint":if(!a)return this.ZERO;if(a<BI.UMIN)throw new Error("signed value for ulong");if(a>BI.UMAX)throw new Error("ulong too large");return BI.V.setBigUint64(0,a,!0),new _PbULong(BI.V.getInt32(0,!0),BI.V.getInt32(4,!0))}else switch(typeof a){case"string":if(a=="0")return this.ZERO;if(a=a.trim(),!RE_DECIMAL_STR.test(a))throw new Error("string is no integer");var[e,n,t]=int64fromString(a);if(e)throw new Error("signed value for ulong");return new _PbULong(n,t);case"number":if(a==0)return this.ZERO;if(!Number.isSafeInteger(a))throw new Error("number is no integer");if(a<0)throw new Error("signed value for ulong");return new _PbULong(a,a/TWO_PWR_32_DBL)}throw new Error("unknown value "+typeof a)}toString(){return BI?this.toBigInt().toString():int64toString(this.lo,this.hi)}toBigInt(){return assertBi(BI),BI.V.setInt32(0,this.lo,!0),BI.V.setInt32(4,this.hi,!0),BI.V.getBigUint64(0,!0)}},PbULong=_PbULong,_PbLong=(PbULong.ZERO=new _PbULong(0,0),class extends SharedPbLong{static from(a){if(BI)switch(typeof a){case"string":if(a=="0")return this.ZERO;if(a=="")throw new Error("string is no integer");a=BI.C(a);case"number":if(a===0)return this.ZERO;a=BI.C(a);case"bigint":if(!a)return this.ZERO;if(a<BI.MIN)throw new Error("signed long too small");if(a>BI.MAX)throw new Error("signed long too large");return BI.V.setBigInt64(0,a,!0),new _PbLong(BI.V.getInt32(0,!0),BI.V.getInt32(4,!0))}else switch(typeof a){case"string":if(a=="0")return this.ZERO;if(a=a.trim(),!RE_DECIMAL_STR.test(a))throw new Error("string is no integer");var[e,n,t]=int64fromString(a);if(e){if(t>HALF_2_PWR_32||t==HALF_2_PWR_32&&n!=0)throw new Error("signed long too small")}else if(t>=HALF_2_PWR_32)throw new Error("signed long too large");return n=new _PbLong(n,t),e?n.negate():n;case"number":if(a==0)return this.ZERO;if(Number.isSafeInteger(a))return 0<a?new _PbLong(a,a/TWO_PWR_32_DBL):new _PbLong(-a,-a/TWO_PWR_32_DBL).negate();throw new Error("number is no integer")}throw new Error("unknown value "+typeof a)}isNegative(){return(this.hi&HALF_2_PWR_32)!=0}negate(){let a=~this.hi,e=this.lo;return e?e=1+~e:a+=1,new _PbLong(e,a)}toString(){var a;return BI?this.toBigInt().toString():this.isNegative()?"-"+int64toString((a=this.negate()).lo,a.hi):int64toString(this.lo,this.hi)}toBigInt(){return assertBi(BI),BI.V.setInt32(0,this.lo,!0),BI.V.setInt32(4,this.hi,!0),BI.V.getBigInt64(0,!0)}}),PbLong=_PbLong;function assert(a,e){if(!a)throw new Error(e)}PbLong.ZERO=new _PbLong(0,0);let FLOAT32_MAX=34028234663852886e22,FLOAT32_MIN=-34028234663852886e22,UINT32_MAX=4294967295,INT32_MAX=2147483647,INT32_MIN=-2147483648;function assertInt32(a){if(typeof a!="number")throw new Error("invalid int 32: "+typeof a);if(!Number.isInteger(a)||a>INT32_MAX||a<INT32_MIN)throw new Error("invalid int 32: "+a)}function assertUInt32(a){if(typeof a!="number")throw new Error("invalid uint 32: "+typeof a);if(!Number.isInteger(a)||a>UINT32_MAX||a<0)throw new Error("invalid uint 32: "+a)}function assertFloat32(a){if(typeof a!="number")throw new Error("invalid float 32: "+typeof a);if(Number.isFinite(a)&&(a>FLOAT32_MAX||a<FLOAT32_MIN))throw new Error("invalid float 32: "+a)}function reflectionLongConvert(a,e){switch(e){case LongType.BIGINT:return a.toBigInt();case LongType.NUMBER:return a.toNumber();default:return a.toString()}}class ReflectionJsonReader{constructor(e){this.info=e}prepare(){var e,n;if(this.fMap===void 0){this.fMap={};for(n of(e=this.info.fields)!=null?e:[])this.fMap[n.name]=n,this.fMap[n.jsonName]=n,this.fMap[n.localName]=n}}assert(e,n,t){if(!e){let i=typeofJsonValue(t);throw i!="number"&&i!="boolean"||(i=t.toString()),new Error(`Cannot parse JSON ${i} for ${this.info.typeName}#`+n)}}read(e,n,t){this.prepare();var i,r,l=[];for([i,r]of Object.entries(e)){var s=this.fMap[i];if(!s){if(t.ignoreUnknownFields)continue;throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: `+i)}var u,o=s.localName;let R;if(s.oneof){if(r===null&&(s.kind!=="enum"||s.T()[0]!=="google.protobuf.NullValue"))continue;if(l.includes(s.oneof))throw new Error(`Multiple members of the oneof group "${s.oneof}" of ${this.info.typeName} are present in JSON.`);l.push(s.oneof),R=n[s.oneof]={oneofKind:o}}else R=n;if(s.kind=="map"){if(r!==null){this.assert(isJsonObject(r),s.name,r);var m,U,I=R[o];for([m,U]of Object.entries(r)){this.assert(U!==null,s.name+" map value",null);let k;switch(s.V.kind){case"message":k=s.V.T().internalJsonRead(U,t);break;case"enum":if((k=this.enum(s.V.T(),U,s.name,t.ignoreUnknownFields))===!1)continue;break;case"scalar":k=this.scalar(U,s.V.T,s.V.L,s.name)}this.assert(k!==void 0,s.name+" map value",U);let T=m;s.K==ScalarType.BOOL&&(T=T=="true"||T!="false"&&T),I[T=this.scalar(T,s.K,LongType.STRING,s.name).toString()]=k}}}else if(s.repeat){if(r!==null){this.assert(Array.isArray(r),s.name,r);var F,A=R[o];for(F of r){this.assert(F!==null,s.name,null);let k;switch(s.kind){case"message":k=s.T().internalJsonRead(F,t);break;case"enum":if((k=this.enum(s.T(),F,s.name,t.ignoreUnknownFields))===!1)continue;break;case"scalar":k=this.scalar(F,s.T,s.L,s.name)}this.assert(k!==void 0,s.name,r),A.push(k)}}}else switch(s.kind){case"message":r===null&&s.T().typeName!="google.protobuf.Value"?this.assert(s.oneof===void 0,s.name+" (oneof member)",null):R[o]=s.T().internalJsonRead(r,t,R[o]);break;case"enum":r!==null&&(u=this.enum(s.T(),r,s.name,t.ignoreUnknownFields))!==!1&&(R[o]=u);break;case"scalar":r!==null&&(R[o]=this.scalar(r,s.T,s.L,s.name))}}}enum(e,n,t,i){if(e[0]=="google.protobuf.NullValue"&&assert(n===null||n==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${t}, enum ${e[0]} only accepts null.`),n===null)return 0;switch(typeof n){case"number":return assert(Number.isInteger(n),`Unable to parse field ${this.info.typeName}#${t}, enum can only be integral number, got ${n}.`),n;case"string":let l=n;e[2]&&n.substring(0,e[2].length)===e[2]&&(l=n.substring(e[2].length));var r=e[1][l];return r===void 0&&i?!1:(assert(typeof r=="number",`Unable to parse field ${this.info.typeName}#${t}, enum ${e[0]} has no value for "${n}".`),r)}assert(!1,`Unable to parse field ${this.info.typeName}#${t}, cannot parse enum value from ${typeof n}".`)}scalar(e,n,t,i){let r;try{switch(n){case ScalarType.DOUBLE:case ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e==="")r="empty string";else if(typeof e=="string"&&e.trim().length!==e.length)r="extra whitespace";else if(typeof e=="string"||typeof e=="number"){var l=Number(e);if(Number.isNaN(l))r="not a number";else{if(Number.isFinite(l))return n==ScalarType.FLOAT&&assertFloat32(l),l;r="too large or small"}}break;case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.UINT32:if(e===null)return 0;let s;if(typeof e=="number"?s=e:e===""?r="empty string":typeof e=="string"&&(e.trim().length!==e.length?r="extra whitespace":s=Number(e)),s===void 0)break;return(n==ScalarType.UINT32?assertUInt32:assertInt32)(s),s;case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:if(e===null)return reflectionLongConvert(PbLong.ZERO,t);if(typeof e!="number"&&typeof e!="string")break;return reflectionLongConvert(PbLong.from(e),t);case ScalarType.FIXED64:case ScalarType.UINT64:if(e===null)return reflectionLongConvert(PbULong.ZERO,t);if(typeof e!="number"&&typeof e!="string")break;return reflectionLongConvert(PbULong.from(e),t);case ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case ScalarType.STRING:if(e===null)return"";if(typeof e!="string"){r="extra whitespace";break}try{encodeURIComponent(e)}catch{break}return e;case ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return base64decode(e)}}catch(s){r=s.message}this.assert(!1,i+(r?" - "+r:""),e)}}class ReflectionJsonWriter{constructor(e){this.fields=(e=e.fields)!=null?e:[]}write(e,n){var t,i,r,l={},s=e;for(t of this.fields)t.oneof?(i=s[t.oneof]).oneofKind===t.localName&&(r=t.kind=="scalar"||t.kind=="enum"?{...n,emitDefaultValues:!0}:n,assert((i=this.field(t,i[t.localName],r))!==void 0),l[n.useProtoFieldName?t.name:t.jsonName]=i):(r=this.field(t,s[t.localName],n))!==void 0&&(l[n.useProtoFieldName?t.name:t.jsonName]=r);return l}field(e,n,t){let i;if(e.kind=="map"){assert(typeof n=="object"&&n!==null);var r={};switch(e.V.kind){case"scalar":for(var[l,s]of Object.entries(n))s=this.scalar(e.V.T,s,e.name,!1,!0),assert(s!==void 0),r[l.toString()]=s;break;case"message":var u,o,m=e.V.T();for([u,o]of Object.entries(n)){var U=this.message(m,o,e.name,t);assert(U!==void 0),r[u.toString()]=U}break;case"enum":var I,F,A=e.V.T();for([I,F]of Object.entries(n)){assert(F===void 0||typeof F=="number");var R=this.enum(A,F,e.name,!1,!0,t.enumAsInteger);assert(R!==void 0),r[I.toString()]=R}}(t.emitDefaultValues||0<Object.keys(r).length)&&(i=r)}else if(e.repeat){assert(Array.isArray(n));var k=[];switch(e.kind){case"scalar":for(let E=0;E<n.length;E++){var T=this.scalar(e.T,n[E],e.name,e.opt,!0);assert(T!==void 0),k.push(T)}break;case"enum":var j=e.T();for(let E=0;E<n.length;E++){assert(n[E]===void 0||typeof n[E]=="number");var _=this.enum(j,n[E],e.name,e.opt,!0,t.enumAsInteger);assert(_!==void 0),k.push(_)}break;case"message":var D=e.T();for(let E=0;E<n.length;E++){var P=this.message(D,n[E],e.name,t);assert(P!==void 0),k.push(P)}}(t.emitDefaultValues||0<k.length||t.emitDefaultValues)&&(i=k)}else switch(e.kind){case"scalar":i=this.scalar(e.T,n,e.name,e.opt,t.emitDefaultValues);break;case"enum":i=this.enum(e.T(),n,e.name,e.opt,t.emitDefaultValues,t.enumAsInteger);break;case"message":i=this.message(e.T(),n,e.name,t)}return i}enum(e,n,t,i,r,l){if(e[0]=="google.protobuf.NullValue")return r||i?null:void 0;if(n===void 0)assert(i);else if(n!==0||r||i)return assert(typeof n=="number"),assert(Number.isInteger(n)),l||!e[1].hasOwnProperty(n)?n:e[2]?e[2]+e[1][n]:e[1][n]}message(e,n,t,i){return n===void 0?i.emitDefaultValues?null:void 0:e.internalJsonWrite(n,i)}scalar(e,n,t,i,r){if(n===void 0)assert(i);else{var l=r||i;switch(e){case ScalarType.INT32:case ScalarType.SFIXED32:case ScalarType.SINT32:return n===0?l?0:void 0:(assertInt32(n),n);case ScalarType.FIXED32:case ScalarType.UINT32:return n===0?l?0:void 0:(assertUInt32(n),n);case ScalarType.FLOAT:assertFloat32(n);case ScalarType.DOUBLE:return n===0?l?0:void 0:(assert(typeof n=="number"),Number.isNaN(n)?"NaN":n===Number.POSITIVE_INFINITY?"Infinity":n===Number.NEGATIVE_INFINITY?"-Infinity":n);case ScalarType.STRING:return n===""?l?"":void 0:(assert(typeof n=="string"),n);case ScalarType.BOOL:return n===!1?!l&&void 0:(assert(typeof n=="boolean"),n);case ScalarType.UINT64:case ScalarType.FIXED64:assert(typeof n=="number"||typeof n=="string"||typeof n=="bigint");var s=PbULong.from(n);return s.isZero()&&!l?void 0:s.toString();case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:return assert(typeof n=="number"||typeof n=="string"||typeof n=="bigint"),s=PbLong.from(n),s.isZero()&&!l?void 0:s.toString();case ScalarType.BYTES:return assert(n instanceof Uint8Array),n.byteLength?base64encode(n):l?"":void 0}}}}function reflectionScalarDefault(a,e=LongType.STRING){switch(a){case ScalarType.BOOL:return!1;case ScalarType.UINT64:case ScalarType.FIXED64:return reflectionLongConvert(PbULong.ZERO,e);case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:return reflectionLongConvert(PbLong.ZERO,e);case ScalarType.DOUBLE:case ScalarType.FLOAT:return 0;case ScalarType.BYTES:return new Uint8Array(0);case ScalarType.STRING:return"";default:return 0}}class ReflectionBinaryReader{constructor(e){this.info=e}prepare(){var e;this.fieldNoToField||(e=(e=this.info.fields)!=null?e:[],this.fieldNoToField=new Map(e.map(n=>[n.no,n])))}read(e,n,t,i){this.prepare();for(var r=i===void 0?e.len:e.pos+i;e.pos<r;){var[l,s]=e.tag(),u=this.fieldNoToField.get(l);if(u){let T=n,j=u.repeat,_=u.localName;switch(u.oneof&&(T=T[u.oneof]).oneofKind!==_&&(T=n[u.oneof]={oneofKind:_}),u.kind){case"scalar":case"enum":var o=u.kind=="enum"?ScalarType.INT32:u.T,m=u.kind=="scalar"?u.L:void 0;if(j){var U=T[_];if(s==WireType.LengthDelimited&&o!=ScalarType.STRING&&o!=ScalarType.BYTES)for(var I=e.uint32()+e.pos;e.pos<I;)U.push(this.scalar(e,o,m));else U.push(this.scalar(e,o,m))}else T[_]=this.scalar(e,o,m);break;case"message":j?(F=T[_],A=u.T().internalBinaryRead(e,e.uint32(),t),F.push(A)):T[_]=u.T().internalBinaryRead(e,e.uint32(),t,T[_]);break;case"map":var[F,A]=this.mapEntry(u,e,t);T[_][F]=A}}else{var R=t.readUnknownField;if(R=="throw")throw new Error(`Unknown field ${l} (wire type ${s}) for `+this.info.typeName);var k=e.skip(s);R!==!1&&(R===!0?UnknownFieldHandler.onRead:R)(this.info.typeName,n,l,s,k)}}}mapEntry(e,n,t){var i=n.uint32(),r=n.pos+i;let l,s;for(;n.pos<r;){var[u,o]=n.tag();switch(u){case 1:l=e.K==ScalarType.BOOL?n.bool().toString():this.scalar(n,e.K,LongType.STRING);break;case 2:switch(e.V.kind){case"scalar":s=this.scalar(n,e.V.T,e.V.L);break;case"enum":s=n.int32();break;case"message":s=e.V.T().internalBinaryRead(n,n.uint32(),t)}break;default:throw new Error(`Unknown field ${u} (wire type ${o}) in map entry for ${this.info.typeName}#`+e.name)}}if(l===void 0&&(i=reflectionScalarDefault(e.K),l=e.K==ScalarType.BOOL?i.toString():i),s===void 0)switch(e.V.kind){case"scalar":s=reflectionScalarDefault(e.V.T,e.V.L);break;case"enum":s=0;break;case"message":s=e.V.T().create()}return[l,s]}scalar(e,n,t){switch(n){case ScalarType.INT32:return e.int32();case ScalarType.STRING:return e.string();case ScalarType.BOOL:return e.bool();case ScalarType.DOUBLE:return e.double();case ScalarType.FLOAT:return e.float();case ScalarType.INT64:return reflectionLongConvert(e.int64(),t);case ScalarType.UINT64:return reflectionLongConvert(e.uint64(),t);case ScalarType.FIXED64:return reflectionLongConvert(e.fixed64(),t);case ScalarType.FIXED32:return e.fixed32();case ScalarType.BYTES:return e.bytes();case ScalarType.UINT32:return e.uint32();case ScalarType.SFIXED32:return e.sfixed32();case ScalarType.SFIXED64:return reflectionLongConvert(e.sfixed64(),t);case ScalarType.SINT32:return e.sint32();case ScalarType.SINT64:return reflectionLongConvert(e.sint64(),t)}}}class ReflectionBinaryWriter{constructor(e){this.info=e}prepare(){var e;this.fields||(e=this.info.fields?this.info.fields.concat():[],this.fields=e.sort((n,t)=>n.no-t.no))}write(e,n,t){this.prepare();for(var i of this.fields){let I,F,A=i.repeat,R=i.localName;if(i.oneof){var r=e[i.oneof];if(r.oneofKind!==R)continue;I=r[R],F=!0}else I=e[R],F=!1;switch(i.kind){case"scalar":case"enum":var l=i.kind=="enum"?ScalarType.INT32:i.T;if(A)if(assert(Array.isArray(I)),A==RepeatType.PACKED)this.packed(n,l,i.no,I);else for(var s of I)this.scalar(n,l,i.no,s,!0);else I===void 0?assert(i.opt):this.scalar(n,l,i.no,I,F||i.opt);break;case"message":if(A){assert(Array.isArray(I));for(var u of I)this.message(n,t,i.T(),i.no,u)}else this.message(n,t,i.T(),i.no,I);break;case"map":assert(typeof I=="object"&&I!==null);for(var[o,m]of Object.entries(I))this.mapEntry(n,t,i,o,m)}}var U=t.writeUnknownFields;U!==!1&&(U===!0?UnknownFieldHandler.onWrite:U)(this.info.typeName,e,n)}mapEntry(e,n,t,i,r){e.tag(t.no,WireType.LengthDelimited),e.fork();let l=i;switch(t.K){case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.UINT32:case ScalarType.SFIXED32:case ScalarType.SINT32:l=Number.parseInt(i);break;case ScalarType.BOOL:assert(i=="true"||i=="false"),l=i=="true"}switch(this.scalar(e,t.K,1,l,!0),t.V.kind){case"scalar":this.scalar(e,t.V.T,2,r,!0);break;case"enum":this.scalar(e,ScalarType.INT32,2,r,!0);break;case"message":this.message(e,n,t.V.T(),2,r)}e.join()}message(e,n,t,i,r){r!==void 0&&(t.internalBinaryWrite(r,e.tag(i,WireType.LengthDelimited).fork(),n),e.join())}scalar(e,l,t,i,r){var[l,s,u]=this.scalarInfo(l,i);u&&!r||(e.tag(t,l),e[s](i))}packed(e,n,t,i){if(i.length){assert(n!==ScalarType.BYTES&&n!==ScalarType.STRING),e.tag(t,WireType.LengthDelimited),e.fork();var[,r]=this.scalarInfo(n);for(let l=0;l<i.length;l++)e[r](i[l]);e.join()}}scalarInfo(e,n){let t=WireType.Varint,i;var r=n===void 0;let l=n===0;switch(e){case ScalarType.INT32:i="int32";break;case ScalarType.STRING:l=r||!n.length,t=WireType.LengthDelimited,i="string";break;case ScalarType.BOOL:l=n===!1,i="bool";break;case ScalarType.UINT32:i="uint32";break;case ScalarType.DOUBLE:t=WireType.Bit64,i="double";break;case ScalarType.FLOAT:t=WireType.Bit32,i="float";break;case ScalarType.INT64:l=r||PbLong.from(n).isZero(),i="int64";break;case ScalarType.UINT64:l=r||PbULong.from(n).isZero(),i="uint64";break;case ScalarType.FIXED64:l=r||PbULong.from(n).isZero(),t=WireType.Bit64,i="fixed64";break;case ScalarType.BYTES:l=r||!n.byteLength,t=WireType.LengthDelimited,i="bytes";break;case ScalarType.FIXED32:t=WireType.Bit32,i="fixed32";break;case ScalarType.SFIXED32:t=WireType.Bit32,i="sfixed32";break;case ScalarType.SFIXED64:l=r||PbLong.from(n).isZero(),t=WireType.Bit64,i="sfixed64";break;case ScalarType.SINT32:i="sint32";break;case ScalarType.SINT64:l=r||PbLong.from(n).isZero(),i="sint64"}return[t,i,r||l]}}function reflectionCreate(a){var e,n=a.messagePrototype?Object.create(a.messagePrototype):Object.defineProperty({},MESSAGE_TYPE,{value:a});for(e of a.fields){var t=e.localName;if(!e.opt)if(e.oneof)n[e.oneof]={oneofKind:void 0};else if(e.repeat)n[t]=[];else switch(e.kind){case"scalar":n[t]=reflectionScalarDefault(e.T,e.L);break;case"enum":n[t]=0;break;case"map":n[t]={}}}return n}function reflectionMergePartial(a,e,n){let t,i=n,r;for(var l of a.fields){var s=l.localName;if(l.oneof){var u=i[l.oneof];if(u?.oneofKind==null)continue;if(t=u[s],(r=e[l.oneof]).oneofKind=u.oneofKind,t==null){delete r[s];continue}}else if(t=i[s],r=e,t==null)continue;switch(l.repeat&&(r[s].length=t.length),l.kind){case"scalar":case"enum":if(l.repeat)for(let I=0;I<t.length;I++)r[s][I]=t[I];else r[s]=t;break;case"message":var o=l.T();if(l.repeat)for(let I=0;I<t.length;I++)r[s][I]=o.create(t[I]);else r[s]===void 0?r[s]=o.create(t):o.mergePartial(r[s],t);break;case"map":switch(l.V.kind){case"scalar":case"enum":Object.assign(r[s],t);break;case"message":var m,U=l.V.T();for(m of Object.keys(t))r[s][m]=U.create(t[m])}}}}let defaultsWrite$1={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},defaultsRead$1={ignoreUnknownFields:!1};function jsonReadOptions(a){return a?{...defaultsRead$1,...a}:defaultsRead$1}function jsonWriteOptions(a){return a?{...defaultsWrite$1,...a}:defaultsWrite$1}function reflectionEquals(a,e,n){if(e!==n){if(!e||!n)return!1;for(var t of a.fields){var i=t.localName,r=(t.oneof?e[t.oneof]:e)[i],l=(t.oneof?n[t.oneof]:n)[i];switch(t.kind){case"enum":case"scalar":var s=t.kind=="enum"?ScalarType.INT32:t.T;if((t.repeat?repeatedPrimitiveEq:primitiveEq)(s,r,l))break;return!1;case"map":if(t.V.kind=="message"?repeatedMsgEq(t.V.T(),objectValues(r),objectValues(l)):repeatedPrimitiveEq(t.V.kind=="enum"?ScalarType.INT32:t.V.T,objectValues(r),objectValues(l)))break;return!1;case"message":if(s=t.T(),t.repeat?repeatedMsgEq(s,r,l):s.equals(r,l))break;return!1}}}return!0}let objectValues=Object.values;function primitiveEq(a,e,n){if(e!==n){if(a!==ScalarType.BYTES)return!1;var t=e,i=n;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=i[r])return!1}return!0}function repeatedPrimitiveEq(a,e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!primitiveEq(a,e[t],n[t]))return!1;return!0}function repeatedMsgEq(a,e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(!a.equals(e[t],n[t]))return!1;return!0}let defaultsWrite={writeUnknownFields:!0,writerFactory:()=>new BinaryWriter};function binaryWriteOptions(a){return a?{...defaultsWrite,...a}:defaultsWrite}class BinaryWriter{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;var n=new Uint8Array(e);let t=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],t),t+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){var e=this.finish(),n=this.stack.pop();if(n)return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e);throw new Error("invalid state, fork stack empty")}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(assertUInt32(e);127<e;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return assertInt32(e),varint32write(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){return e=this.textEncoder.encode(e),this.uint32(e.byteLength),this.raw(e)}float(e){assertFloat32(e);var n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){var n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){assertUInt32(e);var n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){assertInt32(e);var n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return assertInt32(e),varint32write(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(i){var n=new Uint8Array(8),t=new DataView(n.buffer),i=PbLong.from(i);return t.setInt32(0,i.lo,!0),t.setInt32(4,i.hi,!0),this.raw(n)}fixed64(i){var n=new Uint8Array(8),t=new DataView(n.buffer),i=PbULong.from(i);return t.setInt32(0,i.lo,!0),t.setInt32(4,i.hi,!0),this.raw(n)}int64(e){return e=PbLong.from(e),varint64write(e.lo,e.hi,this.buf),this}sint64(n){var n=PbLong.from(n),t=n.hi>>31;return varint64write(n.lo<<1^t,(n.hi<<1|n.lo>>>31)^t,this.buf),this}uint64(e){return e=PbULong.from(e),varint64write(e.lo,e.hi,this.buf),this}}let defaultsRead={readUnknownField:!0,readerFactory:a=>new BinaryReader(a)};function binaryReadOptions(a){return a?{...defaultsRead,...a}:defaultsRead}class BinaryReader{constructor(e,n){this.varint64=varint64read,this.uint32=varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){var n=this.uint32(),e=n>>>3,n=7&n;if(e<=0||n<0||5<n)throw new Error("illegal tag: field no "+e+" wire type "+n);return[e,n]}skip(e){var n,t=this.pos;switch(e){case WireType.Varint:for(;128&this.buf[this.pos++];);break;case WireType.Bit64:this.pos+=4;case WireType.Bit32:this.pos+=4;break;case WireType.LengthDelimited:var i=this.uint32();this.pos+=i;break;case WireType.StartGroup:for(;(n=this.tag()[1])!==WireType.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){var e=this.uint32();return e>>>1^-(1&e)}int64(){return new PbLong(...this.varint64())}uint64(){return new PbULong(...this.varint64())}sint64(){var[n,t]=this.varint64(),e=-(1&n),n=(n>>>1|(1&t)<<31)^e,t=t>>>1^e;return new PbLong(n,t)}bool(){var[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new PbULong(this.sfixed32(),this.sfixed32())}sfixed64(){return new PbLong(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){var e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}let baseDescriptors=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class MessageType{constructor(e,n,t){this.defaultCheckDepth=16,this.typeName=e,this.fields=n.map(normalizeFieldInfo),this.options=t??{},this.messagePrototype=Object.create(null,{...baseDescriptors,[MESSAGE_TYPE]:{value:this}}),this.refTypeCheck=new ReflectionTypeCheck(this),this.refJsonReader=new ReflectionJsonReader(this),this.refJsonWriter=new ReflectionJsonWriter(this),this.refBinReader=new ReflectionBinaryReader(this),this.refBinWriter=new ReflectionBinaryWriter(this)}create(e){var n=reflectionCreate(this);return e!==void 0&&reflectionMergePartial(this,n,e),n}clone(e){var n=this.create();return reflectionMergePartial(this,n,e),n}equals(e,n){return reflectionEquals(this,e,n)}is(e,n=this.defaultCheckDepth){return this.refTypeCheck.is(e,n,!1)}isAssignable(e,n=this.defaultCheckDepth){return this.refTypeCheck.is(e,n,!0)}mergePartial(e,n){reflectionMergePartial(this,e,n)}fromBinary(e,n){return n=binaryReadOptions(n),this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,n){return this.internalJsonRead(e,jsonReadOptions(n))}fromJsonString(e,n){return e=JSON.parse(e),this.fromJson(e,n)}toJson(e,n){return this.internalJsonWrite(e,jsonWriteOptions(n))}toJsonString(t,n){var t=this.toJson(t,n);return JSON.stringify(t,null,(t=n?.prettySpaces)!=null?t:0)}toBinary(e,n){return n=binaryWriteOptions(n),this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,n,t){if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`Unable to parse message ${this.typeName} from JSON ${typeofJsonValue(e)}.`);return t=t??this.create(),this.refJsonReader.read(e,t,n),t}internalJsonWrite(e,n){return this.refJsonWriter.write(e,n)}internalBinaryWrite(e,n,t){return this.refBinWriter.write(e,n,t),n}internalBinaryRead(e,n,t,i){return i=i??this.create(),this.refBinReader.read(e,i,t,n),i}}class FrsPageResIdl$Type extends MessageType{constructor(){super("FrsPageResIdl",[{no:2,name:"data",kind:"message",T:()=>FrsPageDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=FrsPageDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&FrsPageDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let FrsPageResIdl=new FrsPageResIdl$Type;class FrsPageDataRes$Type extends MessageType{constructor(){super("FrsPageDataRes",[{no:2,name:"forum",kind:"message",T:()=>ForumInfo},{no:7,name:"thread_list",kind:"message",repeat:2,T:()=>ThreadInfo},{no:23,name:"activityhead",kind:"message",T:()=>ActivityHead},{no:116,name:"live_fuse_forum",kind:"message",repeat:2,T:()=>LiveFuseForumData},{no:126,name:"page_data",kind:"message",T:()=>PageData}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.threadList=[],n.liveFuseForum=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 2:r.forum=ForumInfo.internalBinaryRead(e,e.uint32(),t,r.forum);break;case 7:r.threadList.push(ThreadInfo.internalBinaryRead(e,e.uint32(),t));break;case 23:r.activityhead=ActivityHead.internalBinaryRead(e,e.uint32(),t,r.activityhead);break;case 116:r.liveFuseForum.push(LiveFuseForumData.internalBinaryRead(e,e.uint32(),t));break;case 126:r.pageData=PageData.internalBinaryRead(e,e.uint32(),t,r.pageData);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){e.forum&&ForumInfo.internalBinaryWrite(e.forum,n.tag(2,WireType.LengthDelimited).fork(),t).join();for(let r=0;r<e.threadList.length;r++)ThreadInfo.internalBinaryWrite(e.threadList[r],n.tag(7,WireType.LengthDelimited).fork(),t).join();e.activityhead&&ActivityHead.internalBinaryWrite(e.activityhead,n.tag(23,WireType.LengthDelimited).fork(),t).join();for(let r=0;r<e.liveFuseForum.length;r++)LiveFuseForumData.internalBinaryWrite(e.liveFuseForum[r],n.tag(116,WireType.LengthDelimited).fork(),t).join();e.pageData&&PageData.internalBinaryWrite(e.pageData,n.tag(126,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let FrsPageDataRes=new FrsPageDataRes$Type;class PageData$Type extends MessageType{constructor(){super("PageData",[{no:2,name:"feed_list",kind:"message",repeat:2,T:()=>LayoutFactory}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.feedList=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.feedList.push(LayoutFactory.internalBinaryRead(e,e.uint32(),t));else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.feedList.length;r++)LayoutFactory.internalBinaryWrite(e.feedList[r],n.tag(2,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let PageData=new PageData$Type;class ForumInfo$Type extends MessageType{constructor(){super("ForumInfo",[{no:33,name:"banner_list",kind:"message",T:()=>BannerList}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===33)r.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,r.bannerList);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(33,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let ForumInfo=new ForumInfo$Type;class ActivityHead$Type extends MessageType{constructor(){super("ActivityHead",[{no:13,name:"is_ad",kind:"scalar",T:8}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.isAd=!1,e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===13)r.isAd=e.bool();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.isAd!==!1&&n.tag(13,WireType.Varint).bool(e.isAd),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let ActivityHead=new ActivityHead$Type;class LiveFuseForumData$Type extends MessageType{constructor(){super("LiveFuseForumData",[{no:1,name:"online_users",kind:"scalar",T:9}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.onlineUsers="",e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.onlineUsers=e.string();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.onlineUsers!==""&&n.tag(1,WireType.LengthDelimited).string(e.onlineUsers),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let LiveFuseForumData=new LiveFuseForumData$Type;class PbPageResIdl$Type extends MessageType{constructor(){super("PbPageResIdl",[{no:2,name:"data",kind:"message",T:()=>PbPageDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=PbPageDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&PbPageDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let PbPageResIdl=new PbPageResIdl$Type;class PbPageDataRes$Type extends MessageType{constructor(){super("PbPageDataRes",[{no:12,name:"banner_list",kind:"message",T:()=>BannerList},{no:55,name:"recom_ala_info",kind:"message",T:()=>AlaLiveInfo},{no:6,name:"post_list",kind:"message",repeat:2,T:()=>Post}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.postList=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 12:r.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,r.bannerList);break;case 55:r.recomAlaInfo=AlaLiveInfo.internalBinaryRead(e,e.uint32(),t,r.recomAlaInfo);break;case 6:r.postList.push(Post.internalBinaryRead(e,e.uint32(),t));break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.postList.length;r++)Post.internalBinaryWrite(e.postList[r],n.tag(6,WireType.LengthDelimited).fork(),t).join();e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(12,WireType.LengthDelimited).fork(),t).join(),e.recomAlaInfo&&AlaLiveInfo.internalBinaryWrite(e.recomAlaInfo,n.tag(55,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let PbPageDataRes=new PbPageDataRes$Type;class PbListResIdl$Type extends MessageType{constructor(){super("PbListResIdl",[{no:2,name:"data",kind:"message",T:()=>PbListDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=PbListDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&PbListDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let PbListResIdl=new PbListResIdl$Type;class PbListDataRes$Type extends MessageType{constructor(){super("PbListDataRes",[{no:6,name:"first_floor",kind:"message",T:()=>Post}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===6)r.firstFloor=Post.internalBinaryRead(e,e.uint32(),t,r.firstFloor);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.firstFloor&&Post.internalBinaryWrite(e.firstFloor,n.tag(6,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let PbListDataRes=new PbListDataRes$Type;class GetFeedAdResIdl$Type extends MessageType{constructor(){super("GetFeedAdResIdl",[{no:2,name:"data",kind:"message",T:()=>GetFeedAdDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=GetFeedAdDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&GetFeedAdDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let GetFeedAdResIdl=new GetFeedAdResIdl$Type;class GetFeedAdDataRes$Type extends MessageType{constructor(){super("GetFeedAdDataRes",[{no:1,name:"recom",kind:"message",repeat:2,T:()=>App},{no:2,name:"frs",kind:"message",repeat:2,T:()=>App},{no:3,name:"pb_banner",kind:"message",repeat:2,T:()=>App},{no:4,name:"pb_comment",kind:"message",repeat:2,T:()=>App}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.recom=[],n.frs=[],n.pbBanner=[],n.pbComment=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 1:r.recom.push(App.internalBinaryRead(e,e.uint32(),t));break;case 2:r.frs.push(App.internalBinaryRead(e,e.uint32(),t));break;case 3:r.pbBanner.push(App.internalBinaryRead(e,e.uint32(),t));break;case 4:r.pbComment.push(App.internalBinaryRead(e,e.uint32(),t));break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.recom.length;r++)App.internalBinaryWrite(e.recom[r],n.tag(1,WireType.LengthDelimited).fork(),t).join();for(let r=0;r<e.frs.length;r++)App.internalBinaryWrite(e.frs[r],n.tag(2,WireType.LengthDelimited).fork(),t).join();for(let r=0;r<e.pbBanner.length;r++)App.internalBinaryWrite(e.pbBanner[r],n.tag(3,WireType.LengthDelimited).fork(),t).join();for(let r=0;r<e.pbComment.length;r++)App.internalBinaryWrite(e.pbComment[r],n.tag(4,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let GetFeedAdDataRes=new GetFeedAdDataRes$Type;class AdBidResIdl$Type extends MessageType{constructor(){super("AdBidResIdl",[{no:2,name:"data",kind:"message",T:()=>AdBidDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=AdBidDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&AdBidDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let AdBidResIdl=new AdBidResIdl$Type;class AdBidDataRes$Type extends MessageType{constructor(){super("AdBidDataRes",[{no:1,name:"banner_list",kind:"message",T:()=>BannerList}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,r.bannerList);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(1,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let AdBidDataRes=new AdBidDataRes$Type;class PersonalizedResIdl$Type extends MessageType{constructor(){super("PersonalizedResIdl",[{no:2,name:"data",kind:"message",T:()=>PersonalizedDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=PersonalizedDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&PersonalizedDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let PersonalizedResIdl=new PersonalizedResIdl$Type;class PersonalizedDataRes$Type extends MessageType{constructor(){super("PersonalizedDataRes",[{no:9,name:"banner_list",kind:"message",T:()=>BannerList},{no:2,name:"thread_list",kind:"message",repeat:2,T:()=>ThreadInfo},{no:17,name:"live_answer",kind:"message",T:()=>LiveAnswer}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.threadList=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 9:r.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,r.bannerList);break;case 2:r.threadList.push(ThreadInfo.internalBinaryRead(e,e.uint32(),t));break;case 17:r.liveAnswer=LiveAnswer.internalBinaryRead(e,e.uint32(),t,r.liveAnswer);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.threadList.length;r++)ThreadInfo.internalBinaryWrite(e.threadList[r],n.tag(2,WireType.LengthDelimited).fork(),t).join();e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(9,WireType.LengthDelimited).fork(),t).join(),e.liveAnswer&&LiveAnswer.internalBinaryWrite(e.liveAnswer,n.tag(17,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let PersonalizedDataRes=new PersonalizedDataRes$Type;class LiveAnswer$Type extends MessageType{constructor(){super("LiveAnswer",[{no:1,name:"banner_url",kind:"scalar",T:9}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.bannerUrl="",e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.bannerUrl=e.string();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.bannerUrl!==""&&n.tag(1,WireType.LengthDelimited).string(e.bannerUrl),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let LiveAnswer=new LiveAnswer$Type;class ThreadListResIdl$Type extends MessageType{constructor(){super("ThreadListResIdl",[{no:2,name:"data",kind:"message",T:()=>ThreadListDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=ThreadListDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&ThreadListDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let ThreadListResIdl=new ThreadListResIdl$Type;class ThreadListDataRes$Type extends MessageType{constructor(){super("ThreadListDataRes",[{no:3,name:"banner_list",kind:"message",T:()=>BannerList}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===3)r.bannerList=BannerList.internalBinaryRead(e,e.uint32(),t,r.bannerList);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.bannerList&&BannerList.internalBinaryWrite(e.bannerList,n.tag(3,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let ThreadListDataRes=new ThreadListDataRes$Type;class GeneralTabListResIdl$Type extends MessageType{constructor(){super("GeneralTabListResIdl",[{no:2,name:"data",kind:"message",T:()=>GeneralTabListDataRes}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.data=GeneralTabListDataRes.internalBinaryRead(e,e.uint32(),t,r.data);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.data&&GeneralTabListDataRes.internalBinaryWrite(e.data,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let GeneralTabListResIdl=new GeneralTabListResIdl$Type;class GeneralTabListDataRes$Type extends MessageType{constructor(){super("GeneralTabListDataRes",[{no:10,name:"app_list",kind:"message",repeat:2,T:()=>App}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.appList=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===10)r.appList.push(App.internalBinaryRead(e,e.uint32(),t));else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.appList.length;r++)App.internalBinaryWrite(e.appList[r],n.tag(10,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let GeneralTabListDataRes=new GeneralTabListDataRes$Type;class BannerList$Type extends MessageType{constructor(){super("BannerList",[{no:1,name:"app",kind:"message",repeat:2,T:()=>App},{no:5,name:"pb_banner_ad",kind:"message",T:()=>App}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.app=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 1:r.app.push(App.internalBinaryRead(e,e.uint32(),t));break;case 5:r.pbBannerAd=App.internalBinaryRead(e,e.uint32(),t,r.pbBannerAd);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.app.length;r++)App.internalBinaryWrite(e.app[r],n.tag(1,WireType.LengthDelimited).fork(),t).join();e.pbBannerAd&&App.internalBinaryWrite(e.pbBannerAd,n.tag(5,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let BannerList=new BannerList$Type;class App$Type extends MessageType{constructor(){super("App",[{no:30,name:"goods_info",kind:"message",repeat:2,T:()=>GoodsInfo},{no:38,name:"live_ad",kind:"message",T:()=>LiveAdData}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.goodsInfo=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 30:r.goodsInfo.push(GoodsInfo.internalBinaryRead(e,e.uint32(),t));break;case 38:r.liveAd=LiveAdData.internalBinaryRead(e,e.uint32(),t,r.liveAd);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.goodsInfo.length;r++)GoodsInfo.internalBinaryWrite(e.goodsInfo[r],n.tag(30,WireType.LengthDelimited).fork(),t).join();e.liveAd&&LiveAdData.internalBinaryWrite(e.liveAd,n.tag(38,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let App=new App$Type;class LiveAdData$Type extends MessageType{constructor(){super("LiveAdData",[{no:1,name:"recom_ala_info",kind:"message",T:()=>AlaLiveInfo}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.recomAlaInfo=AlaLiveInfo.internalBinaryRead(e,e.uint32(),t,r.recomAlaInfo);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.recomAlaInfo&&AlaLiveInfo.internalBinaryWrite(e.recomAlaInfo,n.tag(1,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let LiveAdData=new LiveAdData$Type;class GoodsInfo$Type extends MessageType{constructor(){super("GoodsInfo",[{no:1,name:"id",kind:"scalar",T:5}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return void(n.id=0)!==e&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.id=e.int32();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.id!==0&&n.tag(1,WireType.Varint).int32(e.id),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let GoodsInfo=new GoodsInfo$Type;class ThreadInfo$Type extends MessageType{constructor(){super("ThreadInfo",[{no:79,name:"video_info",kind:"message",T:()=>VideoInfo},{no:113,name:"ala_info",kind:"message",T:()=>AlaLiveInfo}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 79:r.videoInfo=VideoInfo.internalBinaryRead(e,e.uint32(),t,r.videoInfo);break;case 113:r.alaInfo=AlaLiveInfo.internalBinaryRead(e,e.uint32(),t,r.alaInfo);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.videoInfo&&VideoInfo.internalBinaryWrite(e.videoInfo,n.tag(79,WireType.LengthDelimited).fork(),t).join(),e.alaInfo&&AlaLiveInfo.internalBinaryWrite(e.alaInfo,n.tag(113,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let ThreadInfo=new ThreadInfo$Type;class AlaLiveInfo$Type extends MessageType{constructor(){super("AlaLiveInfo",[{no:1,name:"live_id",kind:"scalar",T:4,L:0}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.liveId=0n,e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.liveId=e.uint64().toBigInt();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.liveId!==0n&&n.tag(1,WireType.Varint).uint64(e.liveId),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let AlaLiveInfo=new AlaLiveInfo$Type;class Post$Type extends MessageType{constructor(){super("Post",[{no:54,name:"outer_item",kind:"message",T:()=>Item},{no:67,name:"novel_recom_card",kind:"message",T:()=>NovelRecomCard}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 54:r.outerItem=Item.internalBinaryRead(e,e.uint32(),t,r.outerItem);break;case 67:r.novelRecomCard=NovelRecomCard.internalBinaryRead(e,e.uint32(),t,r.novelRecomCard);break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.outerItem&&Item.internalBinaryWrite(e.outerItem,n.tag(54,WireType.LengthDelimited).fork(),t).join(),e.novelRecomCard&&NovelRecomCard.internalBinaryWrite(e.novelRecomCard,n.tag(67,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let Post=new Post$Type;class Item$Type extends MessageType{constructor(){super("Item",[{no:1,name:"item_id",kind:"scalar",T:3,L:0}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.itemId=0n,e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.itemId=e.int64().toBigInt();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.itemId!==0n&&n.tag(1,WireType.Varint).int64(e.itemId),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let Item=new Item$Type;class NovelRecomCard$Type extends MessageType{constructor(){super("NovelRecomCard",[{no:1,name:"icon_url",kind:"scalar",T:9}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.iconUrl="",e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.iconUrl=e.string();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.iconUrl!==""&&n.tag(1,WireType.LengthDelimited).string(e.iconUrl),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let NovelRecomCard=new NovelRecomCard$Type;class VideoInfo$Type extends MessageType{constructor(){super("VideoInfo",[{no:1,name:"video_md5",kind:"scalar",T:9}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.videoMd5="",e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===1)r.videoMd5=e.string();else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.videoMd5!==""&&n.tag(1,WireType.LengthDelimited).string(e.videoMd5),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let VideoInfo=new VideoInfo$Type;class LayoutFactory$Type extends MessageType{constructor(){super("LayoutFactory",[{no:2,name:"feed",kind:"message",T:()=>FeedLayout}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===2)r.feed=FeedLayout.internalBinaryRead(e,e.uint32(),t,r.feed);else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.feed&&FeedLayout.internalBinaryWrite(e.feed,n.tag(2,WireType.LengthDelimited).fork(),t).join(),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let LayoutFactory=new LayoutFactory$Type;class FeedLayout$Type extends MessageType{constructor(){super("FeedLayout",[{no:5,name:"business_info",kind:"message",repeat:2,T:()=>FeedKV}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.businessInfo=[],e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();if(s===5)r.businessInfo.push(FeedKV.internalBinaryRead(e,e.uint32(),t));else{var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){for(let r=0;r<e.businessInfo.length;r++)FeedKV.internalBinaryWrite(e.businessInfo[r],n.tag(5,WireType.LengthDelimited).fork(),t).join();var i=t.writeUnknownFields;return i!==!1&&(i==1?UnknownFieldHandler.onWrite:i)(this.typeName,e,n),n}}let FeedLayout=new FeedLayout$Type;class FeedKV$Type extends MessageType{constructor(){super("FeedKV",[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:9}])}create(e){var n=globalThis.Object.create(this.messagePrototype);return n.key="",n.value="",e!==void 0&&reflectionMergePartial(this,n,e),n}internalBinaryRead(e,n,t,i){for(var r=i??this.create(),l=e.pos+n;e.pos<l;){var[s,u]=e.tag();switch(s){case 1:r.key=e.string();break;case 2:r.value=e.string();break;default:var o=t.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${u}) for `+this.typeName);var m=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,r,s,u,m)}}return r}internalBinaryWrite(e,n,t){return e.key!==""&&n.tag(1,WireType.LengthDelimited).string(e.key),e.value!==""&&n.tag(2,WireType.LengthDelimited).string(e.value),t=t.writeUnknownFields,t!==!1&&(t==1?UnknownFieldHandler.onWrite:t)(this.typeName,e,n),n}}let FeedKV=new FeedKV$Type;const resStatus=$response.status?$response.status:$response.statusCode;if(resStatus!==200)$done({});else{const a=$request.url,e=typeof $task<"u",n=e?new Uint8Array($response.bodyBytes):$response.body;let t;if(a.includes("frs/page")){const i=FrsPageResIdl.fromBinary(n,{readUnknownField:!0});if(removeGoodsInfo(i.data.forum?.bannerList?.app),i.data.threadList=removeThread(i.data.threadList,!1),i.data.liveFuseForum?.length&&(i.data.liveFuseForum=[]),i.data.activityhead?.isAd&&(i.data.activityhead=null),i.data.pageData?.feedList?.length){let r=0;i.data.pageData.feedList=i.data.pageData.feedList.filter(l=>{if(l.feed==null||l.feed.businessInfo==null)return!0;const s=l.feed.businessInfo.some(u=>u.key==="is_live_card"&&u.value==="1");return s&&r++,!s})}t=FrsPageResIdl.toBinary(i)}else if(a.includes("ad/getFeedAd")){const i=GetFeedAdResIdl.fromBinary(n,{readUnknownField:!0}),r=[i.data?.recom,i.data?.frs,i.data?.pbBanner,i.data?.pbComment].filter(l=>l?.length>0);r.length?(r.forEach(l=>removeGoodsInfo(l)),t=GetFeedAdResIdl.toBinary(i)):t=n}else if(a.includes("b/ad/adBid")){const i=AdBidResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(i.data?.bannerList?.app),i.data?.bannerList?.pbBannerAd&&(i.data.bannerList.pbBannerAd=null),t=AdBidResIdl.toBinary(i)}else if(a.includes("pb/page"))if(a.includes("302001")){const r=PbPageResIdl.fromBinary(n,{readUnknownField:!0});if(removeGoodsInfo(r.data.bannerList?.app),r.data.bannerList?.pbBannerAd?.goodsInfo?.length&&(r.data.bannerList.pbBannerAd.goodsInfo=[]),r.data.bannerList?.pbBannerAd?.liveAd&&(r.data.bannerList.pbBannerAd.liveAd=null),r.data.recomAlaInfo?.liveId&&(r.data.recomAlaInfo=null),r.data.postList?.length)for(const s of r.data.postList)s.outerItem&&(s.outerItem=null),s.novelRecomCard&&(s.novelRecomCard=null);t=PbPageResIdl.toBinary(r)}else if(a.includes("309751")){const r=PbListResIdl.fromBinary(n,{readUnknownField:!0});let l=!1;r.data?.firstFloor?.novelRecomCard&&(r.data.firstFloor.novelRecomCard=null,l=!0),l?t=PbListResIdl.toBinary(r):t=n}else t=n;else if(a.includes("excellent/personalized")){const i={per_filter_video_thread:0};switch(typeof $argument){case"string":const l=Object.fromEntries($argument.split("&").map(s=>s.split("=")));Object.assign(i,l);break;case"object":Object.assign(i,$argument);break}const r=PersonalizedResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(r.data.bannerList?.app),r.data.threadList=removeThread(r.data.threadList,+i.per_filter_video_thread),r.data.liveAnswer&&(r.data.liveAnswer=null),t=PersonalizedResIdl.toBinary(r)}else if(a.includes("frs/threadlist")){const i=ThreadListResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(i.data.bannerList?.app),t=ThreadListResIdl.toBinary(i)}else if(a.includes("frs/generalTabList")){const i=GeneralTabListResIdl.fromBinary(n,{readUnknownField:!0});removeGoodsInfo(i.data.appList),t=GeneralTabListResIdl.toBinary(i)}else $notification.post("\u8D34\u5427proto\u53BB\u5E7F\u544A\u811A\u672C\u9519\u8BEF","url\u5339\u914D\u9519\u8BEF:",a);e?$done({bodyBytes:t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset)}):$done({body:t})}function removeGoodsInfo(a){if(a?.length){let e=0;a.forEach(n=>{n.goodsInfo?.length&&(e++,n.goodsInfo=[])})}}function removeThread(a,e){let n=a,t=0,i=0;return a?.length&&(n=a.filter(r=>r.alaInfo?(t++,!1):e&&r.videoInfo?(i++,!1):!0)),n}
